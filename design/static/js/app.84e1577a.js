var design=function(t){function e(e){for(var n,a,o=e[0],r=e[1],c=e[2],p=0,h=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(l,a)&&l[a]&&h.push(l[a][0]),l[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var r=i[o];0!==l[r]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},l={app:0},s=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var o=window["webpackJsonpdesign"]=window["webpackJsonpdesign"]||[],r=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=r;return s.push([0,"chunk-vendors"]),i()}({0:function(t,e,i){t.exports=i("56d7")},"001c":function(t,e,i){"use strict";i("d7ba")},"01a6":function(t,e,i){"use strict";i("8798")},"0235":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"countdown-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.color")}},[e("div",{staticClass:"flex-row"},[t._v(" "+t._s(t.$t("plugin.font"))+"： "),e("el-color-picker",{staticStyle:{"margin-right":"16px"},attrs:{"show-alpha":""},model:{value:t.plugin.style.color,callback:function(e){t.$set(t.plugin.style,"color",e)},expression:"plugin.style.color"}}),t._v(" "+t._s(t.$t("plugin.backgroundColor"))+"： "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.deadline")}},[e("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:t.$t("plugin.chooseDate")},model:{value:t.plugin.attr.date,callback:function(e){t.$set(t.plugin.attr,"date",e)},expression:"plugin.attr.date"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.format")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("plugin.showFormatPlaceholder")},model:{value:t.plugin.attr.format,callback:function(e){t.$set(t.plugin.attr,"format",e)},expression:"plugin.attr.format"}},t._l(t.countdownFormat,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:t.$t("plugin.font")}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,placeholder:t.$t("plugin.fontSizePlaceholder")},model:{value:t.plugin.style.fontSize,callback:function(e){t.$set(t.plugin.style,"fontSize",t._n(e))},expression:"plugin.style.fontSize"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.font")}},[e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"italic"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.italic")))]),e("el-radio",{attrs:{label:"oblique"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.oblique")))])],1),e("el-form-item",{attrs:{label:t.$t("plugin.fontWeight")}},[e("el-radio",{attrs:{label:"lighter"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.lighter")))]),e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"bold"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.bold")))])],1),e("el-form-item",{staticClass:"layout-config",attrs:{label:t.$t("plugin.layout")}},[e("el-radio",{attrs:{label:"left"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"left"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-left"}}),t._v(" "+t._s(t.$t("plugin.left"))+" ")],1),e("el-radio",{attrs:{label:"center"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"center"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-center"}}),t._v(" "+t._s(t.$t("plugin.center"))+" ")],1),e("el-radio",{attrs:{label:"right"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"right"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-right"}}),t._v(" "+t._s(t.$t("plugin.right"))+" ")],1),e("el-radio",{attrs:{label:"justify"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"justify"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-between"}}),t._v(" "+t._s(t.$t("plugin.justify"))+" ")],1)],1)],1)],1)},l=[],s=i("3af9"),a=i("2f62"),o={name:"countdownConfig",data(){return{countdownFormat:s["a"].countdown}},computed:{...Object(a["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}}},r=o,c=(i("6511"),i("2877")),u=Object(c["a"])(r,n,l,!1,null,null,null);e["default"]=u.exports},"0431":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[t.focus?e("textarea",{style:t.style,attrs:{id:"textarea"},on:{input:t.input,blur:function(e){t.focus=!1}}},[t._v(" "+t._s(t.attr.text)+" ")]):e("div",{staticClass:"text-plugin-container line-clamp",style:t.style,on:{dblclick:t.dblclick}},[e("span",{class:t.attr.animation.animationName,style:{...t.animation,display:t.attr.animation.animationName?"block":"inline"}},[t._v(t._s(t.attr.text))])])])},l=[],s=i("2f62"),a={name:"textPlugin",props:{attribute:{type:Object,default(){return{}}},preview:!1},data(){return{focus:!1}},computed:{...Object(s["b"])(["entrance","active"]),style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr},animation(){return{animationDuration:this.attr.animation.animationDuration+"s"}}},watch:{"attr.readAloud":{deep:!0,immediate:!0,handler(t){if(t){this.sound=window.speechSynthesis;const t=new SpeechSynthesisUtterance(this.attr.text);this.sound.speak(t)}else this.sound&&this.sound.cancel()}}},methods:{dblclick(){this.focus=!0,this.$nextTick(()=>{document.getElementById("textarea").focus()})},input(){const t=document.getElementById("textarea").value,e=JSON.parse(JSON.stringify(this.attr));e.text=String(t),this.$store.commit("UPDATE_PLUGIN",{viewIndex:this.entrance,pluginIndex:this.active.plugin,key:"attr",value:e})}}},o=a,r=(i("dfc5"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,"7a6bf256",null);e["default"]=c.exports},"0a0d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audio-plugin-container",style:t.style},[t.attr.default?e("audio",{staticStyle:{width:"100%",height:"100%"},attrs:{loop:t.attr.loop,autoplay:t.attr.autoplay,src:t.url(t.attr.src),controls:t.attr.controls}},[t._v(" 您的浏览器不支持 audio 标签 ")]):e("svg-icon",{style:{width:t.style.width,height:t.style.height},attrs:{"icon-class":"audio"}})],1)},l=[],s={name:"audioPlugin",inject:["url"],props:{attribute:{},preview:!1},data(){return{audio:null}},computed:{style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr}},watch:{"attr.default":{deep:!0,immediate:!0,handler(){this.playAudio()}},"attr.loop":{deep:!0,immediate:!0,handler(){this.playAudio()}},"attr.autoplay":{deep:!0,immediate:!0,handler(){this.playAudio()}}},methods:{playAudio(){this.attr.autoplay?(this.audio||(this.audio=document.createElement("audio")),this.audio.src=this.url(this.attr.src),this.audio.loop=this.attr.loop,this.audio.autoplay=this.attr.autoplay,this.attr.autoplay&&this.audio&&this.audio.play()):this.audio&&this.audio.pause()}},beforeDestroy(){this.audio&&this.audio.pause()}},a=s,o=(i("b5e7"),i("2877")),r=Object(o["a"])(a,n,l,!1,null,"67d3b540",null);e["default"]=r.exports},"0e72":function(t,e,i){"use strict";i("f64e")},"11b2":function(t,e,i){},1536:function(t,e,i){},1719:function(t,e,i){},"18af":function(t,e,i){var n={"./audio/config.vue":"6200","./audio/plugin.vue":"0a0d","./button/config.vue":"43f8","./button/plugin.vue":"3d9c","./countdown/config.vue":"0235","./countdown/plugin.vue":"9b96","./date/config.vue":"56b38","./date/plugin.vue":"9f97","./iframe/config.vue":"cb52","./iframe/plugin.vue":"5538","./image/config.vue":"2738","./image/plugin.vue":"913e","./picture/config.vue":"7c5c","./picture/plugin.vue":"d3ff","./text/config.vue":"a157","./text/plugin.vue":"0431","./video/config.vue":"3d1c","./video/plugin.vue":"5e60"};function l(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}l.keys=function(){return Object.keys(n)},l.resolve=s,t.exports=l,l.id="18af"},"213c":function(t,e,i){},"222c":function(t,e,i){"use strict";i("56fd")},"23f1":function(t,e,i){var n={"./audio.svg":"2d66","./icon-between.svg":"7c44","./icon-center.svg":"b6c1","./icon-left.svg":"81f3","./icon-right.svg":"ab8a"};function l(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}l.keys=function(){return Object.keys(n)},l.resolve=s,t.exports=l,l.id="23f1"},2458:function(t,e,i){},"25c4":function(t,e,i){"use strict";i("9cb3")},"265b":function(t,e,i){},2738:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:"选择图片"}},[e("div",{staticClass:"choose-file"},[e("span",{staticClass:"resolution"},[t._v(t._s(t.file.resolution))]),e("img",{staticStyle:{width:"100%",height:"120px"},attrs:{src:t.url(t.plugin.attr.src)||t.empty}}),e("p",{staticClass:"title line-clamp1",on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.file.name||"选择图片"))])])]),e("el-form-item",{attrs:{label:"颜色"}},[e("div",{staticClass:"flex-row"},[t._v(" 背景： "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)])],1),e("material",{attrs:{visible:t.visible},on:{cancel:function(e){t.visible=!1},confirm:t.confirm}})],1)},l=[],s=i("2f62"),a={name:"imageConfig",inject:["url"],computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}},data(){return{file:{},empty:i("b8e0"),visible:!1}},methods:{confirm(t){t&&(this.plugin.attr.src=t.url,this.plugin.attr.id=t.id),this.file=t,this.visible=!1}}},o=a,r=(i("b94e"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},"27dc":function(t,e,i){"use strict";var n=i("45f9");i.d(e,"a",(function(){return n["VabPlayerMp4"]}))},"2ae6":function(t,e,i){"use strict";i("e4cb")},"2d66":function(t,e,i){"use strict";i.r(e);var n=i("e017"),l=i.n(n),s=i("21a1"),a=i.n(s),o=new l.a({id:"icon-audio",use:"icon-audio-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-audio"><defs><style type="text/css"></style></defs><path d="M849.408 6.656L411.648 140.8c-53.248 15.36-95.744 70.656-95.744 123.392v461.312S284.16 704 213.504 714.24C109.568 729.088 25.6 808.448 25.6 891.904s83.968 134.656 187.904 119.808c103.936-14.848 179.712-91.648 179.712-175.104v-445.44c0-36.864 44.544-52.736 44.544-52.736l387.072-121.344s43.008-14.336 43.008 25.088v367.616s-39.424-22.528-110.08-14.336c-103.936 12.8-187.904 90.624-187.904 174.08S653.824 905.728 757.76 893.44c103.936-12.8 187.904-90.624 187.904-174.08V74.752c-0.512-52.224-43.52-82.944-96.256-68.096z" p-id="2504" /></symbol>'});a.a.add(o);e["default"]=o},"2f30":function(t,e,i){"use strict";i("96d6")},"2f6a":function(t,e,i){},"2f8f":function(t,e,i){},3804:function(t,e,i){},"3af9":function(t,e,i){"use strict";e["a"]={countdown:[{label:"D天H时I分S秒",value:"D H:I:S"},{label:"H时I分S秒",value:"H:I:S"},{label:"D天",value:"D"},{label:"H时",value:"H"},{label:"I分",value:"I"},{label:"S秒",value:"S"}],date:[{label:"Y-M-D H:I:S",value:"Y-M-D H:I:S"},{label:"YMD",value:"YMD"},{label:"YMD HIS",value:"YMD HIS"},{label:"Y-M-D H:I:S zh",value:"Y-M-D H:I:S zh"},{label:"Y-M-D H:I",value:"Y-M-D H:I"},{label:"Y-M-D H",value:"Y-M-D H"},{label:"Y-M-D",value:"Y-M-D"},{label:"Y-M-D zh",value:"Y-M-D zh"},{label:"Y-M",value:"Y-M"},{label:"M-D",value:"M-D"},{label:"M-D zh",value:"M-D zh"}]}},"3aff":function(t,e,i){},"3d1c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.chooseVideo")}},[e("div",{staticClass:"choose-file"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.file.duration,expression:"file.duration"}],staticClass:"duration"},[t._v(t._s(t.file.duration)+" 秒")]),e("span",{staticClass:"resolution"},[t._v(t._s(t.file.resolution))]),e("video",{staticStyle:{height:"120px",width:"100%","object-fit":"fill","vertical-align":"bottom"},attrs:{disabled:!0,autoplay:!1,controls:!1,src:t.url(t.plugin.attr.src)}},[t._v(" "+t._s(t.$t("tips.video"))+" ")]),e("p",{staticClass:"title line-clamp1",on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.file.name||t.$t("plugin.chooseVideo")))])])]),e("el-form-item",{attrs:{label:t.$t("plugin.config")}},[e("el-checkbox",{model:{value:t.plugin.attr.autoplay,callback:function(e){t.$set(t.plugin.attr,"autoplay",e)},expression:"plugin.attr.autoplay"}},[t._v(t._s(t.$t("plugin.autoplay")))]),e("el-checkbox",{model:{value:t.plugin.attr.controls,callback:function(e){t.$set(t.plugin.attr,"controls",e)},expression:"plugin.attr.controls"}},[t._v(t._s(t.$t("plugin.controls")))]),e("el-checkbox",{model:{value:t.plugin.attr.loop,callback:function(e){t.$set(t.plugin.attr,"loop",e)},expression:"plugin.attr.loop"}},[t._v(t._s(t.$t("plugin.loopPlay")))]),e("el-checkbox",{model:{value:t.plugin.attr.mute,callback:function(e){t.$set(t.plugin.attr,"mute",e)},expression:"plugin.attr.mute"}},[t._v(t._s(t.$t("plugin.mute")))])],1),e("el-form-item",{attrs:{label:t.$t("plugin.volume")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:100,step:1,"step-strictly":"","controls-position":"right"},model:{value:t.plugin.attr.volume,callback:function(e){t.$set(t.plugin.attr,"volume",e)},expression:"plugin.attr.volume"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.color")}},[e("div",{staticClass:"flex-row"},[t._v(" "+t._s(t.$t("plugin.backgroundColor"))+" "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)])],1),e("material",{attrs:{"type-list":["media"],visible:t.visible},on:{cancel:function(e){t.visible=!1},confirm:t.confirm}})],1)},l=[],s=i("2f62"),a={name:"videoConfig",inject:["url"],computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}},watch:{plugin:{deep:!0,immediate:!0,handler(){if(this.plugin&&this.plugin.attr){const{src:t,id:e,duration:i,resolution:n,name:l}=JSON.parse(JSON.stringify(this.plugin.attr)),s={url:t,name:l,resolution:n,duration:i,id:e};this.file=s,this.$forceUpdate()}}}},data(){return{file:{},empty:i("b8e0"),visible:!1}},methods:{confirm(t){t&&(this.plugin.attr.src=t.url,this.plugin.attr.id=t.id,this.plugin.attr.name=t.name,this.plugin.attr.resolution=t.resolution,this.plugin.attr.duration=t.duration),this.file=t;const{duration:e}=t;e>this.duration&&this.$store.commit("UPDATE_DURATION",{duration:e}),this.visible=!1}}},o=a,r=(i("ca71"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},"3d9c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"button-plugin-container pointer",style:{...t.style,lineHeight:t.style.height},on:{click:t.buttonClick}},[t._v(" "+t._s(t.attr.name)+" ")])},l=[],s={name:"buttonPlugin",props:{attribute:{},preview:!1},computed:{style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr}},methods:{buttonClick(){this.preview&&"app"===this.attr.type?this.attr.app&&TMPlayerApi.openTo(this.attr.app):this.preview&&"web"===this.attr.type?this.attr.path&&window.open(this.attr.path):this.preview&&(this.attr.entrance||0===this.attr.entrance)&&this.$store.commit("UPDATE_INFO",{key:"entrance",value:this.attr.entrance})}}},a=s,o=(i("ec28"),i("2877")),r=Object(o["a"])(a,n,l,!1,null,"7466eb13",null);e["default"]=r.exports},"43f8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"button-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.name")}},[e("el-input",{attrs:{type:"input",placeholder:t.$t("plugin.buttonPlaceholder")},model:{value:t.plugin.attr.name,callback:function(e){t.$set(t.plugin.attr,"name",e)},expression:"plugin.attr.name"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.jump")}},[e("el-radio",{attrs:{label:"page"},model:{value:t.plugin.attr.type,callback:function(e){t.$set(t.plugin.attr,"type",e)},expression:"plugin.attr.type"}},[t._v(t._s(t.$t("plugin.page")))]),e("el-radio",{attrs:{label:"web"},model:{value:t.plugin.attr.type,callback:function(e){t.$set(t.plugin.attr,"type",e)},expression:"plugin.attr.type"}},[t._v(t._s(t.$t("plugin.webPage")))]),e("div",[e("el-radio",{attrs:{label:"app"},model:{value:t.plugin.attr.type,callback:function(e){t.$set(t.plugin.attr,"type",e)},expression:"plugin.attr.type"}},[t._v(t._s(t.$t("plugin.app")))])],1),"page"===t.plugin.attr.type?e("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:t.$t("plugin.pagePlaceholder")},model:{value:t.plugin.attr.entrance,callback:function(e){t.$set(t.plugin.attr,"entrance",e)},expression:"plugin.attr.entrance"}},t._l(t.projectViews,(function(t,i){return e("el-option",{key:t.name,attrs:{label:t.name,value:i}})})),1):t._e(),"web"===t.plugin.attr.type?e("el-input",{attrs:{type:"input",placeholder:t.$t("plugin.webPlaceholder")},model:{value:t.plugin.attr.path,callback:function(e){t.$set(t.plugin.attr,"path",e)},expression:"plugin.attr.path"}}):t._e(),"app"===t.plugin.attr.type?e("el-input",{attrs:{type:"input",placeholder:t.$t("plugin.appPlaceholder")},model:{value:t.plugin.attr.app,callback:function(e){t.$set(t.plugin.attr,"app",e)},expression:"plugin.attr.app"}}):t._e()],1),e("el-form-item",{attrs:{label:t.$t("plugin.color")}},[e("div",{staticClass:"flex-row"},[t._v(" "+t._s(t.$t("plugin.font"))+"： "),e("el-color-picker",{staticStyle:{"margin-right":"16px"},attrs:{"show-alpha":""},model:{value:t.plugin.style.color,callback:function(e){t.$set(t.plugin.style,"color",e)},expression:"plugin.style.color"}}),t._v(" "+t._s(t.$t("plugin.background"))+"： "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.fontSize")}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,placeholder:t.$t("plugin.fontSizePlaceholder")},model:{value:t.plugin.style.fontSize,callback:function(e){t.$set(t.plugin.style,"fontSize",t._n(e))},expression:"plugin.style.fontSize"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.font")}},[e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"italic"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.italic")))]),e("el-radio",{attrs:{label:"oblique"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.oblique")))])],1),e("el-form-item",{attrs:{label:t.$t("plugin.fontWeight")}},[e("el-radio",{attrs:{label:"lighter"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.lighter")))]),e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"bold"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.bold")))])],1),e("el-form-item",{staticClass:"layout-config",attrs:{label:t.$t("plugin.layout")}},[e("el-radio",{attrs:{label:"left"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"left"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-left"}}),t._v(" "+t._s(t.$t("plugin.left"))+" ")],1),e("el-radio",{attrs:{label:"center"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"center"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-center"}}),t._v(" "+t._s(t.$t("plugin.center")))],1),e("el-radio",{attrs:{label:"right"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"right"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-right"}}),t._v(" "+t._s(t.$t("plugin.right")))],1),e("el-radio",{attrs:{label:"justify"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"justify"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-between"}}),t._v(" "+t._s(t.$t("plugin.justify")))],1)],1)],1)],1)},l=[],s=i("2f62"),a={name:"buttonConfig",computed:{...Object(s["b"])(["projectViews","entrance","active"]),plugins(){return this.projectViews[this.entrance].plugins},plugin(){return this.plugins[this.active.plugin]}}},o=a,r=(i("2ae6"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},4630:function(t,e,i){},"4a9f":function(t,e,i){"use strict";i("4630")},5538:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("iframe",{style:t.style,attrs:{frameborder:"0",src:t.attr.src}})},l=[],s={name:"iframePlugin",props:{attribute:{},preview:!1},computed:{style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr}}},a=s,o=i("2877"),r=Object(o["a"])(a,n,l,!1,null,"622cbd27",null);e["default"]=r.exports},"56b38":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"date-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:"颜色"}},[e("div",{staticClass:"flex-row"},[t._v(" 字体： "),e("el-color-picker",{staticStyle:{"margin-right":"16px"},attrs:{"show-alpha":""},model:{value:t.plugin.style.color,callback:function(e){t.$set(t.plugin.style,"color",e)},expression:"plugin.style.color"}}),t._v(" 背景： "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.format")}},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$t("plugin.showFormatPlaceholder")},model:{value:t.plugin.attr.format,callback:function(e){t.$set(t.plugin.attr,"format",e)},expression:"plugin.attr.format"}},t._l(t.dateFormat,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:t.$t("plugin.fontSize")}},[e("el-input-number",{attrs:{"controls-position":"right",min:0,placeholder:t.$t("plugin.fontSizePlaceholder")},model:{value:t.plugin.style.fontSize,callback:function(e){t.$set(t.plugin.style,"fontSize",t._n(e))},expression:"plugin.style.fontSize"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.font")}},[e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"italic"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.italic")))]),e("el-radio",{attrs:{label:"oblique"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.oblique")))])],1),e("el-form-item",{attrs:{label:t.$t("plugin.fontWeight")}},[e("el-radio",{attrs:{label:"lighter"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.lighter")))]),e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"bold"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.bold")))])],1),e("el-form-item",{staticClass:"layout-config",attrs:{label:t.$t("plugin.layout")}},[e("el-radio",{attrs:{label:"left"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"left"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-left"}}),t._v(" "+t._s(t.$t("plugin.left"))+" ")],1),e("el-radio",{attrs:{label:"center"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"center"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-center"}}),t._v(" "+t._s(t.$t("plugin.center"))+" ")],1),e("el-radio",{attrs:{label:"right"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"right"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-right"}}),t._v(" "+t._s(t.$t("plugin.right"))+" ")],1),e("el-radio",{attrs:{label:"justify"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"justify"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-between"}}),t._v(" "+t._s(t.$t("plugin.justify"))+" ")],1)],1)],1)],1)},l=[],s=i("2f62"),a=i("3af9"),o={name:"dateConfig",data(){return{dateFormat:a["a"].date}},computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}}},r=o,c=(i("838a"),i("2877")),u=Object(c["a"])(r,n,l,!1,null,null,null);e["default"]=u.exports},"56d7":function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),l=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("design",{attrs:{project:t.project,publish:t.publish}})],1)},s=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"large-screen-design"},[t.publish?t._e():e("h5ve-header",{on:{emit:t.emitChange}}),t.publish?t._e():e("h5ve-aside"),t.publish?t._e():e("h5ve-main"),t.publish?t._e():e("h5ve-config"),t.publish?t._e():e("h5ve-footer"),t.equipment?e("h5ve-publish"):t._e(),t.equipment?t._e():e("preview-dialog",{attrs:{visible:t.publish},on:{"close-preview":t.closePreview}})],1)},o=[],r=function(){var t=this,e=t._self._c;return t.isExternal?e("div",t._g({staticClass:"svg-external-icon svg-icon",style:t.styleExternalIcon},t.$listeners)):e("svg",t._g({class:t.svgClass,attrs:{"aria-hidden":"true"}},t.$listeners),[e("use",{attrs:{href:t.iconName}})])},c=[];function u(t){return/^(http?:|https?:|mailto:|tel:)/.test(t)}var p={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal(){return u(this.iconClass)},iconName(){return"#icon-"+this.iconClass},svgClass(){return this.className?"svg-icon "+this.className:"svg-icon"},styleExternalIcon(){return{mask:`url(${this.iconClass}) no-repeat 50% 50%`,"-webkit-mask":`url(${this.iconClass}) no-repeat 50% 50%`}}}},h=p,d=(i("e6ea"),i("2877")),m=Object(d["a"])(h,r,c,!1,null,"41de697a",null),g=m.exports;n["default"].component("svg-icon",g);const f=t=>t.keys().map(t);f(i("23f1"));i("3aff");var v=function(){var t=this,e=t._self._c;return e("div",{class:[{[t.classNameActive]:t.enabled,[t.classNameDragging]:t.dragging,[t.classNameResizing]:t.resizing,[t.classNameDraggable]:t.draggable,[t.classNameResizable]:t.resizable},t.className],style:t.style,on:{click:function(e){return t.$emit("click")},mousedown:t.elementMouseDown,touchstart:t.elementTouchDown,contextmenu:t.onContextMenu}},[t._l(t.actualHandles,(function(i){return e("div",{key:i,class:[t.classNameHandle,t.classNameHandle+"-"+i],style:t.handleStyle(i),on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.handleDown(i,e)},touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.handleTouchDown(i,e)}}},[t._t(i)],2)})),t._t("default")],2)},b=[];i("d9e2"),i("14d9");function y(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function w(t,e,i,n=1){const l=Math.round(e/n/t[0])*t[0],s=Math.round(i/n/t[1])*t[1];return[l,s]}function x(t,e,i){return t-e-i}function k(t,e,i){return t-e-i}function _(t,e,i){return null!==e&&t<e?e:null!==i&&i<t?i:t}function $(t,e,i){let n=t;const l=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(t=>y(n[t]));if(!y(n[l]))return!1;do{if(n[l](e))return!0;if(n===i)return!1;n=n.parentNode}while(n);return!1}function S(t){const e=window.getComputedStyle(t);return[parseFloat(e.getPropertyValue("width"),10),parseFloat(e.getPropertyValue("height"),10)]}function C(t,e,i){t&&(t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener?t.addEventListener(e,i,!0):t["on"+e]=i)}function T(t,e,i){t&&(t.detachEvent?t.detachEvent("on"+e,i):t.removeEventListener?t.removeEventListener(e,i,!0):t["on"+e]=null)}const P={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},A={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},I={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let j=P.mouse;var N={replace:!0,name:"draggable-resizable",props:{rotateZ:{type:Number,default:0},className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},h:{type:[Number,String],default:200,validator:t=>"number"===typeof t?t>0:"auto"===t},minWidth:{type:Number,default:0,validator:t=>t>=0},minHeight:{type:Number,default:0,validator:t=>t>=0},maxWidth:{type:Number,default:null,validator:t=>t>=0},maxHeight:{type:Number,default:null,validator:t=>t>=0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:t=>"string"===typeof t?"auto"===t:t>=0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml"],validator:t=>{const e=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(t.filter(t=>e.has(t))).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:t=>["x","y","both"].includes(t)},grid:{type:Array,default:()=>[1,1]},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0},isConflictCheck:{type:Boolean,default:!1},snap:{type:Boolean,default:!1},snapTolerance:{type:Number,default:5,validator:function(t){return"number"===typeof t}},scaleRatio:{type:Number,default:1,validator:t=>"number"===typeof t},handleInfo:{type:Object,default:()=>({size:8,offset:-5,switch:!0})}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[t,e]=this.getParentSize();this.parentWidth=t,this.parentHeight=e;const[i,n]=S(this.$el);this.aspectFactor=("auto"!==this.w?this.w:i)/("auto"!==this.h?this.h:n),this.width="auto"!==this.w?this.w:i,this.height="auto"!==this.h?this.h:n,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.settingAttribute();const l=this.$el.parentNode;C(l||document.documentElement,"mousedown",this.deselect),C(l||document.documentElement,"touchend touchcancel",this.deselect),C(window,"resize",this.checkParentSize)},beforeDestroy:function(){T(document.documentElement,"mousedown",this.deselect),T(document.documentElement,"touchstart",this.handleUp),T(document.documentElement,"mousemove",this.move),T(document.documentElement,"touchmove",this.move),T(document.documentElement,"mouseup",this.handleUp),T(document.documentElement,"touchend touchcancel",this.deselect),T(window,"resize",this.checkParentSize)},methods:{onContextMenu(t){this.$emit("contextmenu",t)},resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[t,e]=this.getParentSize();this.right=t-this.width-this.left,this.bottom=e-this.height-this.top,this.parentWidth=t,this.parentHeight=e}},getParentSize(){if(!0===this.parent){const t=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(t.getPropertyValue("width"),10),parseInt(t.getPropertyValue("height"),10)]}if("string"===typeof this.parent){const t=document.querySelector(this.parent);if(!(t instanceof HTMLElement))throw new Error(`The selector ${this.parent} does not match any element`);return[t.offsetWidth,t.offsetHeight]}return[null,null]},elementTouchDown(t){j=P.touch,this.elementDown(t)},elementMouseDown(t){j=P.mouse,this.elementDown(t)},elementDown(t){if(t instanceof MouseEvent&&1!==t.which)return;const e=t.target||t.srcElement;if(this.$el.contains(e)){if(!1===this.onDragStart(t))return;if(this.dragHandle&&!$(e,this.dragHandle,this.$el)||this.dragCancel&&$(e,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.w=this.width,this.mouseClickPosition.h=this.height,this.parent&&(this.bounds=this.calcDragLimits()),C(document.documentElement,j.move,this.move),C(document.documentElement,j.stop,this.handleUp)}},calcDragLimits(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(t){const e=t.target||t.srcElement,i=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||i.test(e.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),T(document.documentElement,j.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown(t,e){j=P.touch,this.handleDown(t,e)},handleDown(t,e){e instanceof MouseEvent&&1!==e.which||!1!==this.onResizeStart(t,e)&&(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.w=this.width,this.mouseClickPosition.h=this.height,this.bounds=this.calcResizeLimits(),C(document.documentElement,j.move,this.handleResize),C(document.documentElement,j.stop,this.handleUp))},calcResizeLimits(){let t=this.minW,e=this.minH,i=this.maxW,n=this.maxH;const l=this.aspectFactor,[s,a]=this.grid,o=this.width,r=this.height,c=this.left,u=this.top,p=this.right,h=this.bottom;this.lockAspectRatio&&(t/e>l?e=t/l:t=l*e,i&&n?(i=Math.min(i,l*n),n=Math.min(n,i/l)):i?n=i/l:n&&(i=l*n)),i-=i%s,n-=n%a;const d={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(d.minLeft=c%s,d.maxLeft=c+Math.floor((o-t)/s)*s,d.minTop=u%a,d.maxTop=u+Math.floor((r-e)/a)*a,d.minRight=p%s,d.maxRight=p+Math.floor((o-t)/s)*s,d.minBottom=h%a,d.maxBottom=h+Math.floor((r-e)/a)*a,i&&(d.minLeft=Math.max(d.minLeft,this.parentWidth-p-i),d.minRight=Math.max(d.minRight,this.parentWidth-c-i)),n&&(d.minTop=Math.max(d.minTop,this.parentHeight-h-n),d.minBottom=Math.max(d.minBottom,this.parentHeight-u-n)),this.lockAspectRatio&&(d.minLeft=Math.max(d.minLeft,c-u*l),d.minTop=Math.max(d.minTop,u-c/l),d.minRight=Math.max(d.minRight,p-h*l),d.minBottom=Math.max(d.minBottom,h-p/l))):(d.minLeft=null,d.maxLeft=c+Math.floor((o-t)/s)*s,d.minTop=null,d.maxTop=u+Math.floor((r-e)/a)*a,d.minRight=null,d.maxRight=p+Math.floor((o-t)/s)*s,d.minBottom=null,d.maxBottom=h+Math.floor((r-e)/a)*a,i&&(d.minLeft=-(p+i),d.minRight=-(c+i)),n&&(d.minTop=-(h+n),d.minBottom=-(u+n)),this.lockAspectRatio&&i&&n&&(d.minLeft=Math.min(d.minLeft,-(p+i)),d.minTop=Math.min(d.minTop,-(n+h)),d.minRight=Math.min(d.minRight,-c-i),d.minBottom=Math.min(d.minBottom,-u-n))),d},move(t){this.resizing?this.handleResize(t):this.dragging&&this.handleDrag(t)},async handleDrag(t){const e=this.axis,i=this.grid,n=this.bounds,l=this.mouseClickPosition,s=e&&"y"!==e?l.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,a=e&&"x"!==e?l.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,[o,r]=w(i,s,a,this.scaleRatio),c=_(l.left-o,n.minLeft,n.maxLeft),u=_(l.top-r,n.minTop,n.maxTop);if(!1===this.onDrag(c,u))return;const p=_(l.right+o,n.minRight,n.maxRight),h=_(l.bottom+r,n.minBottom,n.maxBottom);this.left=c,this.top=u,this.right=p,this.bottom=h,await this.snapCheck(),this.$emit("dragging",{left:this.left,top:this.top})},moveHorizontally(t){const[e,i]=w(this.grid,t,this.top,this.scale),n=_(e,this.bounds.minLeft,this.bounds.maxLeft);this.left=n,this.right=this.parentWidth-this.width-n},moveVertically(t){const[e,i]=w(this.grid,this.left,t,this.scale),n=_(i,this.bounds.minTop,this.bounds.maxTop);this.top=n,this.bottom=this.parentHeight-this.height-n},handleResize(t){let e=this.left,i=this.top,n=this.right,l=this.bottom;const s=this.mouseClickPosition,a=(this.lockAspectRatio,this.aspectFactor),o=s.mouseX-(t.touches?t.touches[0].pageX:t.pageX),r=s.mouseY-(t.touches?t.touches[0].pageY:t.pageY);!this.widthTouched&&o&&(this.widthTouched=!0),!this.heightTouched&&r&&(this.heightTouched=!0);const[c,u]=w(this.grid,o,r,this.scaleRatio);this.handle.includes("b")?(l=_(s.bottom+u,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(n=this.right-(this.bottom-l)*a)):this.handle.includes("t")&&(i=_(s.top-u,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(e=this.left-(this.top-i)*a)),this.handle.includes("r")?(n=_(s.right+c,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(l=this.bottom-(this.right-n)/a)):this.handle.includes("l")&&(e=_(s.left-c,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(i=this.top-(this.left-e)/a));const p=x(this.parentWidth,e,n),h=k(this.parentHeight,i,l);!1!==this.onResize(this.handle,e,i,p,h)&&(this.left=e,this.top=i,this.right=n,this.bottom=l,this.width=p,this.height=h,this.$emit("resizing",{left:this.left,top:this.top,width:this.width,height:this.height}))},changeWidth(t){const[e,i]=w(this.grid,t,0,this.scale);let n=_(this.parentWidth-e-this.left,this.bounds.minRight,this.bounds.maxRight),l=this.bottom;this.lockAspectRatio&&(l=this.bottom-(this.right-n)/this.aspectFactor);const s=x(this.parentWidth,this.left,n),a=k(this.parentHeight,this.top,l);this.right=n,this.bottom=l,this.width=s,this.height=a},changeHeight(t){const[e,i]=w(this.grid,0,t,this.scale);let n=_(this.parentHeight-i-this.top,this.bounds.minBottom,this.bounds.maxBottom),l=this.right;this.lockAspectRatio&&(l=this.right-(this.bottom-n)*this.aspectFactor);const s=x(this.parentWidth,this.left,l),a=k(this.parentHeight,this.top,n);this.right=l,this.bottom=n,this.width=s,this.height=a},async handleUp(t){this.handle=null;const e=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),i={vLine:[],hLine:[]};for(let n in i)i[n]=JSON.parse(JSON.stringify(e));this.resizing&&(this.resizing=!1,await this.conflictCheck(),this.$emit("refLineParams",i),this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,await this.conflictCheck(),this.$emit("refLineParams",i),this.$emit("dragstop",this.left,this.top)),this.resetBoundsAndMouseState(),T(document.documentElement,j.move,this.handleResize)},settingAttribute(){this.$el.setAttribute("data-is-check",""+this.isConflictCheck),this.$el.setAttribute("data-is-snap",""+this.snap)},conflictCheck(){const t=this.top,e=this.left,i=this.width,n=this.height;if(this.isConflictCheck){const l=this.$el.parentNode.childNodes;for(let s of l)if(void 0!==s.className&&!s.className.includes(this.classNameActive)&&null!==s.getAttribute("data-is-check")&&"false"!==s.getAttribute("data-is-check")){const l=s.offsetWidth,a=s.offsetHeight;let[o,r]=this.formatTransformVal(s.style.transform);const c=t>=r&&e>=o&&r+a>t&&o+l>e||t<=r&&e<o&&t+n>r&&e+i>o,u=e<=o&&t>=r&&e+i>o&&t<r+a||t<r&&e>o&&t+n>r&&e<o+l,p=t<=r&&e>=o&&t+n>r&&e<o+l||t>=r&&e<=o&&t<r+a&&e>o+l,h=t<=r&&e>=o&&t+n>r&&e<o+l||t>=r&&e<=o&&t<r+a&&e>o+l,d=e>=o&&t>=r&&e<o+l&&t<r+a||t>r&&e<=o&&e+i>o&&t<r+a,m=t<=r&&e>=o&&t+n>r&&e<o+l||t>=r&&e<=o&&t<r+a&&e+i>o;(c||u||p||h||d||m)&&(this.top=this.mouseClickPosition.top,this.left=this.mouseClickPosition.left,this.right=this.mouseClickPosition.right,this.bottom=this.mouseClickPosition.bottom,this.width=this.mouseClickPosition.w,this.height=this.mouseClickPosition.h,this.$emit("resizing",this.left,this.top,this.width,this.height))}}},async snapCheck(){let t=this.width,e=this.height;if(this.snap){let i=this.left,n=this.left+t,l=this.top,s=this.top+e;const a=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),o={vLine:[],hLine:[]};for(let t in o)o[t]=JSON.parse(JSON.stringify(a));const r=this.$el.parentNode.childNodes;let c={value:{x:[[],[],[]],y:[[],[],[]]},display:[],position:[]};const{groupWidth:u,groupHeight:p,groupLeft:h,groupTop:d,bln:m}=await this.getActiveAll(r);m||(t=u,e=p,i=h,n=h+u,l=d,s=d+p);for(let g of r)if(void 0!==g.className&&!g.className.includes(this.classNameActive)&&null!==g.getAttribute("data-is-snap")&&"false"!==g.getAttribute("data-is-snap")){const a=g.offsetWidth,r=g.offsetHeight,[u,p]=this.formatTransformVal(g.style.transform),h=u+a,d=p+r,f=Math.abs(l+e/2-(p+r/2))<=this.snapTolerance,v=Math.abs(i+t/2-(u+a/2))<=this.snapTolerance,b=Math.abs(p-s)<=this.snapTolerance,y=Math.abs(d-s)<=this.snapTolerance,w=Math.abs(p-l)<=this.snapTolerance,x=Math.abs(d-l)<=this.snapTolerance,k=Math.abs(u-n)<=this.snapTolerance,_=Math.abs(h-n)<=this.snapTolerance,$=Math.abs(u-i)<=this.snapTolerance,S=Math.abs(h-i)<=this.snapTolerance;c["display"]=[b,y,w,x,f,f,k,_,$,S,v,v],c["position"]=[p,d,p,d,p+r/2,p+r/2,u,h,u,h,u+a/2,u+a/2],b&&(m&&(this.top=Math.max(p-e,this.bounds.minTop),this.bottom=this.parentHeight-this.top-e),c.value.y[0].push(u,h,i,n)),w&&(m&&(this.top=p,this.bottom=this.parentHeight-this.top-e),c.value.y[0].push(u,h,i,n)),y&&(m&&(this.top=Math.max(d-e,this.bounds.minTop),this.bottom=this.parentHeight-this.top-e),c.value.y[1].push(u,h,i,n)),x&&(m&&(this.top=d,this.bottom=this.parentHeight-this.top-e),c.value.y[1].push(u,h,i,n)),k&&(m&&(this.left=Math.max(u-t,this.bounds.minLeft),this.right=this.parentWidth-this.left-t),c.value.x[0].push(p,d,l,s)),$&&(m&&(this.left=u,this.right=this.parentWidth-this.left-t),c.value.x[0].push(p,d,l,s)),_&&(m&&(this.left=Math.max(h-t,this.bounds.minLeft),this.right=this.parentWidth-this.left-t),c.value.x[1].push(p,d,l,s)),S&&(m&&(this.left=h,this.right=this.parentWidth-this.left-t),c.value.x[1].push(p,d,l,s)),f&&(m&&(this.top=Math.max(p+r/2-e/2,this.bounds.minTop),this.bottom=this.parentHeight-this.top-e),c.value.y[2].push(u,h,i,n)),v&&(m&&(this.left=Math.max(u+a/2-t/2,this.bounds.minLeft),this.right=this.parentWidth-this.left-t),c.value.x[2].push(p,d,l,s));const C=[0,1,0,1,2,2,0,1,0,1,2,2];for(let t=0;t<=C.length;t++){const e=t<6?"y":"x",i=t<6?"hLine":"vLine";if(c.display[t]){const{origin:n,length:l}=this.calcLineValues(c.value[e][C[t]]);o[i][C[t]].display=c.display[t],o[i][C[t]].position=c.position[t]+"px",o[i][C[t]].origin=n,o[i][C[t]].lineLength=l}}}this.$emit("refLineParams",o)}},calcLineValues(t){const e=Math.max(...t)-Math.min(...t)+"px",i=Math.min(...t)+"px";return{length:e,origin:i}},async getActiveAll(t){const e=[],i=[],n=[];let l=0,s=0,a=0,o=0;for(let u of t)void 0!==u.className&&u.className.includes(this.classNameActive)&&e.push(u);const r=e.length;if(r>1){for(let t of e){const e=t.offsetLeft,l=e+t.offsetWidth,s=t.offsetTop,a=s+t.offsetHeight;i.push(s,a),n.push(e,l)}l=Math.max(...n)-Math.min(...n),s=Math.max(...i)-Math.min(...i),a=Math.min(...n),o=Math.min(...i)}const c=1===r;return{groupWidth:l,groupHeight:s,groupLeft:a,groupTop:o,bln:c}},formatTransformVal(t){let[e,i]=t.replace(/[^0-9\-,]/g,"").split(",");return void 0===i&&(i=0),[+e,+i]}},computed:{handleStyle(){return t=>{if(!this.handleInfo.switch)return{display:this.enabled?"block":"none"};const e=(this.handleInfo.size/this.scaleRatio).toFixed(2),i=(this.handleInfo.offset/this.scaleRatio).toFixed(2),n=(e/2).toFixed(2),l={tl:{top:i+"px",left:i+"px"},tm:{top:i+"px",left:`calc(50% - ${n}px)`},tr:{top:i+"px",right:i+"px"},mr:{top:`calc(50% - ${n}px)`,right:i+"px"},br:{bottom:i+"px",right:i+"px"},bm:{bottom:i+"px",right:`calc(50% - ${n}px)`},bl:{bottom:i+"px",left:i+"px"},ml:{top:`calc(50% - ${n}px)`,left:i+"px"}},s={width:e+"px",height:e+"px",top:l[t].top,left:l[t].left,right:l[t].right,bottom:l[t].bottom};return s.display=this.enabled?"block":"none",s}},style(){return{transform:`translate(${this.left}px, ${this.top}px) rotateZ(${this.rotateZ}deg)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,...this.dragging&&this.disableUserSelect?A:I}},actualHandles(){return this.resizable?this.handles:[]},computedWidth(){return"auto"!==this.w||this.widthTouched?this.width+"px":"auto"},computedHeight(){return"auto"!==this.h||this.heightTouched?this.height+"px":"auto"},resizingOnX(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z(t){(t>=0||"auto"===t)&&(this.zIndex=t)},x(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(t))},y(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(t))},lockAspectRatio(t){this.aspectFactor=t?this.width/this.height:void 0},minWidth(t){t>0&&t<=this.width&&(this.minW=t)},minHeight(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth(t){this.maxW=t},maxHeight(t){this.maxH=t},w(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(t))},h(t){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(t))}}},M=N,z=Object(d["a"])(M,v,b,!1,null,null,null),O=z.exports,D=(i("a798"),i("b76a")),E=i.n(D),L=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative"}},[e("div",{staticStyle:{border:"1px solid #c9d8db","overflow-y":"auto"},style:{height:t.height+"px"}},[e("textarea",{attrs:{id:"code-editor"}})]),e("span",{staticClass:"copy pointer",staticStyle:{position:"absolute",right:"10px",top:"10px",color:"#fff",padding:"1px 10px","border-radius":"3px","background-color":"#409eff"},on:{click:t.copy}},[t._v(t._s(t.$t("tips.copy")))]),e("el-select",{directives:[{name:"show",rawName:"v-show",value:!t.readonly,expression:"!readonly"}],staticStyle:{"margin-top":"5px",width:"110px",position:"absolute",bottom:"5px",right:"5px","z-index":"10"},attrs:{size:"mini",placeholder:"选择语言"},on:{change:t.changeLanguage},model:{value:t.languageType,callback:function(e){t.languageType=e},expression:"languageType"}},[e("el-option",{attrs:{label:"Java",value:"Java"}}),e("el-option",{attrs:{label:"C语言",value:"C语言"}}),e("el-option",{attrs:{label:"JavaScript",value:"JavaScript"}}),e("el-option",{attrs:{label:"Vue",value:"vue"}}),e("el-option",{attrs:{label:"C++",value:"C++"}}),e("el-option",{attrs:{label:"TypeScript",value:"TypeScript"}}),e("el-option",{attrs:{label:"Php",value:"Php"}}),e("el-option",{attrs:{label:"C#",value:"C#"}}),e("el-option",{attrs:{label:"小程序",value:"小程序"}}),e("el-option",{attrs:{label:"uni-app",value:"uni-app"}}),e("el-option",{attrs:{label:"Python",value:"Python"}}),e("el-option",{attrs:{label:"数据库",value:"数据库"}})],1)],1)},V=[],R=i("56b3");i("a7be"),i("cc5a"),i("b866"),i("f9d4"),i("4ba6"),i("4ff4"),i("d69f"),i("b1c1"),i("44d5"),i("db91"),i("ffda"),i("693d"),i("d5e0"),i("31c5");function W(t){let e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){const i=t.hasAttribute("readonly");i||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),i||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();const i=window.getSelection(),n=document.createRange();n.selectNodeContents(t),i.removeAllRanges(),i.addRange(n),e=i.toString()}return e}var U=function({text:t}){return new Promise((e,i)=>{const n=document.body,l="rtl"===document.documentElement.getAttribute("dir"),s=document.createElement("textarea");s.style.fontSize="12pt",s.style.border="0",s.style.padding="0",s.style.margin="0",s.style.position="absolute",s.style[l?"right":"left"]="-9999px";const a=window.pageYOffset||document.documentElement.scrollTop;s.style.top=a+"px",s.setAttribute("readonly",""),s.value=t,n.appendChild(s),W(s);try{document.execCommand("copy"),e()}catch(o){i()}})},H={name:"codeEditor",data(){return{languageType:"vue"}},props:{height:{type:Number,default:500},code:{type:String,default:""},language:{type:String,default:""},readonly:{type:Boolean,default:!1}},methods:{changeLanguage(t){this.CodeMirrorEditor.setOption("mode",t)},copy(){try{const t=this.CodeMirrorEditor.getValue();U({text:t}).then(()=>{this.$notify({title:"系统提示",message:"已复制",type:"success"})}).catch(()=>{this.$notify({title:"系统提示",message:"复制失败",type:"warning"})})}catch(t){this.$notify({title:"系统提示",message:"复制失败",type:"warning"})}}},mounted(){this.CodeMirrorEditor=R["fromTextArea"](document.getElementById("code-editor"),{mode:"vue",smartIndent:!0,theme:"idea",readOnly:this.readonly,styleActiveLine:!0,extraKeys:{Ctrl:"autocomplete"},lineNumbers:!0}),this.CodeMirrorEditor.setValue(this.code),this.CodeMirrorEditor.on("changes",t=>{this.$emit("input",this.CodeMirrorEditor.getValue()),this.$emit("changes",this.language)})}},F=H,B=Object(d["a"])(F,L,V,!1,null,null,null),J=B.exports,Y=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:t.$t("plugin.selectFootage"),"append-to-body":"","close-on-click-modal":!1,visible:t.visible},on:{close:function(e){return t.$emit("cancel")},"update:visible":function(e){t.visible=e}}},[e("el-form",{ref:"queryForm",attrs:{inline:"",model:t.material,size:"small"}},[e("el-form-item",{attrs:{label:"分组",prop:"groupId"}},[e("tree-select",{attrs:{placeholder:"请选择素材分组",data:t.groupOptions,props:t.defaultProps,clearable:!0,accordion:!0},on:{getValue:t.getValue}})],1),e("el-form-item",{attrs:{label:"名称",prop:"name"}},[e("el-input",{attrs:{circle:"",placeholder:"请输入素材名称"},model:{value:t.material.name,callback:function(e){t.$set(t.material,"name",e)},expression:"material.name"}})],1),e("el-form-item",[e("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.getListMaterial}},[t._v(t._s(t.$t("plugin.search")))]),e("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:t.resetQuery}},[t._v(t._s(t.$t("plugin.rest")))])],1)],1),t.typeList.length>1?e("el-radio-group",{staticStyle:{"margin-bottom":"8px"},attrs:{size:"small"},on:{change:t.changeType},model:{value:t.material.type,callback:function(e){t.$set(t.material,"type",e)},expression:"material.type"}},t._l(t.typeList,(function(i){return e("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{border:"",label:i}},[e("span",[t._v(t._s(t._f("filterType")(i)))])])})),1):t._e(),e("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.material.loading,expression:"material.loading"}],attrs:{gutter:20}},t._l(t.material.list,(function(i,n){return e("el-col",{attrs:{span:6}},[e("label",[e("div",{staticClass:"choose-file",class:{"active-material":t.currentIndex.some(t=>t.id==i.id)},staticStyle:{"background-color":"#fff",width:"167px","font-weight":"400",border:"2px solid transparent"},on:{click:function(e){return t.rowClick(i)}}},[e("span",{directives:[{name:"show",rawName:"v-show",value:Number(i.duration),expression:"Number(item.duration)"}],staticClass:"duration"},[t._v(t._s(i.duration)+" "+t._s(t.$t("plugin.second")))]),e("span",{staticClass:"resolution"},[t._v(t._s(i.resolution))]),"image"===i.type?e("img",{staticStyle:{width:"100%",height:"120px"},attrs:{src:t.filterUrl(i)}}):t._e(),"file"===i.type?e("img",{staticStyle:{width:"100%",height:"120px"},attrs:{src:t.filterUrl(i)}}):t._e(),"audio"===i.type?e("div",{staticStyle:{height:"120px",width:"100%","background-color":"#ecf4ff"}},[e("svg-icon",{staticStyle:{color:"#86baff","font-size":"36px",margin:"10px"},attrs:{"icon-class":"audio"}})],1):t._e(),"media"===i.type?e("video",{staticStyle:{height:"120px",width:"100%","object-fit":"fill","vertical-align":"bottom"},attrs:{disabled:!0,autoplay:!1,controls:!1,src:t.filterUrl(i)}},[t._v(" "+t._s(t.$t("tips.canvas"))+" ")]):t._e(),e("div",{staticClass:"bottom line-clamp1"},[e("span",{staticStyle:{margin:"0 5px"}},[t._v(t._s(i.name))])])])])])})),1),e("el-pagination",{staticStyle:{"margin-top":"16px"},attrs:{"current-page":t.material.current,"page-size":t.material.size,layout:"total, prev, pager, next",total:t.material.total},on:{"size-change":t.getListMaterial,"current-change":t.getListMaterial,"update:currentPage":function(e){return t.$set(t.material,"current",e)},"update:current-page":function(e){return t.$set(t.material,"current",e)}}}),e("div",{staticStyle:{"text-align":"right","margin-top":"16px"}},[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$emit("cancel")}}},[t._v(t._s(t.$t("tips.cancel")))]),e("el-button",{attrs:{size:"small",disabled:!t.currentIndex.length,type:"primary"},on:{click:t.confirm}},[t._v(" "+t._s(t.$t("tips.confirm"))+" ")])],1)],1)},q=[],X=function(){var t=this,e=t._self._c;return e("el-select",{ref:"elSelect",attrs:{value:t.valueTitle,size:t.size,disabled:t.disabled,clearable:t.clearable,placeholder:t.placeholderText},on:{clear:t.clearHandle}},[e("el-option",{attrs:{value:t.valueTitle,label:t.valueTitle}},[e("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:t.accordion,data:t.optionData,"show-checkbox":t.showCheckbox,props:t.config,"highlight-current":"","node-key":t.config.value,"default-expanded-keys":t.defaultExpandedKey},on:{"check-change":t.handleCheckChange,"node-click":t.handleNodeClick}})],1)],1)},Z=[],G=i("b775"),K={name:"ElTreeSelect",props:{props:{type:Object,default:()=>({})},data:{type:Array,default:()=>[]},list:{type:Array,default:null},url:{type:String,default:""},value:{type:[Number,String],default:null},disabled:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},label:{type:String,default:""},clearable:{type:Boolean,default:!0},accordion:{type:Boolean,default:!1},size:{type:String,default:"small"},placeholder:{type:String,default:"请选择"},isOnlySelectLeaf:{type:Boolean,default:!1}},data(){return{valueId:this.value,valueTitle:this.label,defaultExpandedKey:[],placeholderText:this.placeholder,treeList:[],valueData:this.data}},computed:{optionData(){let t=[];if(this.list){const e=this.config.value,i=this.config.parentId,n=this.config.children,l=this.config.rootId||Math.min.apply(Math,this.list.map(t=>t[i]))||0,s=JSON.parse(JSON.stringify(this.list));t=s.filter(t=>{const a=s.filter(n=>t[e]===n[i]);return a.length>0&&(t[n]=a),t.parentId===l})}else t=this.valueData;return this.$nextTick(()=>{this.valueId=this.value,this.setTreeList(t),this.initHandle()}),t},config(){return Object.assign({value:"id",label:"label",children:"children",parentId:"parentId",rootId:void 0},this.props)}},watch:{value(){this.value?(this.valueId=this.value,this.initHandle()):this.clearHandle()},data(){this.valueData=this.data}},created(){if(this.url){this.placeholderText="加载数据中...";const t=setInterval(()=>{this.placeholderText=this.placeholderText+"."},500);Object(G["a"])({url:this.url,method:"get"}).then(({data:e})=>{this.valueData=e,this.$nextTick(()=>{this.placeholderText=this.placeholder,clearInterval(t)})})}else this.valueData=this.data},methods:{setTreeList(t){for(const e in t)this.treeList.push(t[e]),t[e][this.config.children]&&this.setTreeList(t[e][this.config.children])},initHandle(){if(this.value)if(this.showCheckbox){const t=this.valueId.split(",");this.$refs.selectTree.setCheckedKeys(t);const e=[];t.forEach(t=>{this.treeList.forEach(i=>{t==i[this.config.value]&&e.push(i[this.config.label])})}),this.valueTitle=e.join(","),this.$emit("valueTitle",this.valueTitle)}else this.$refs.selectTree.getNode(this.valueId)&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.config.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId]);this.initScroll()},getNode(t){return this.$refs.selectTree.getNode(t)},initScroll(){this.$nextTick(()=>{const t=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0];t&&(t.style.cssText="margin: 0px; max-height: none; overflow: hidden;")})},handleNodeClick(t){this.showCheckbox||(t["disabled"]?this.$message.warning("节点（"+t[this.config.label]+"）被禁止选择，请重新选择。"):this.isOnlySelectLeaf&&t[this.config.children].length>0?this.$message.warning("不能选择根节点（"+t[this.config.label]+"）请重新选择。"):(this.valueTitle=t[this.config.label],this.valueId=t[this.config.value],this.$emit("getValue",this.valueId,this.valueTitle,t),this.$refs.elSelect.visible=!1))},handleCheckChange(t,e,i){const n=this.$refs.selectTree.getCheckedNodes();this.valueTitle=n.map(t=>t[this.config.label]).join(","),this.valueId=n.map(t=>t[this.config.value]).join(","),this.$emit("getValue",this.valueId,this.valueTitle)},clearHandle(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null,null,null)},clearSelected(){const t=document.querySelectorAll("#tree-option .el-tree-node");t.forEach(t=>t.classList.remove("is-current"))}}},Q=K,tt=(i("9353"),Object(d["a"])(Q,X,Z,!1,null,"22b49860",null)),et=tt.exports,it=i("f121"),nt=i("a78e"),lt=i.n(nt);const{getMaterialList:st,groupTree:at}=it["request"];var ot={name:"material",inject:["equipment"],components:{treeSelect:et},watch:{visible:{handler(){this.currentIndex=[]},deep:!0,immediate:!0}},props:{mode:{type:String,default:"single"},ids:{type:Array,default(){return[]}},title:{type:String,default:"选择素材"},visible:{type:Boolean,default:!1},typeList:{type:Array,default(){return["image"]}}},filters:{filterType(t){const e=[{label:"图片",name:"image"},{label:"视频",name:"media"},{label:"音频",name:"audio"}],i=e.find(e=>t===e.name),{label:n,name:l}=i,s=lt.a.get("language")||"zh";return"zh"===s?n:l}},computed:{currentType(){return this.typeList.length?this.typeList[0]:""}},data(){const t=this.typeList[0];return{defaultProps:{value:"id",label:"name",children:"children"},groupOptions:[],empty:i("b8e0"),currentIndex:[],material:{name:"",groupId:"",type:t,list:[],current:1,total:0,size:20,loading:!1,data:[]},baseUrl:sessionStorage.getItem("baseUrl")}},methods:{getValue(t){this.material.groupId=t,this.getListMaterial()},getTree(){at({type:"0"}).then(t=>{this.groupOptions=t.data})},changeType(){this.material.current=1,this.getListMaterial()},filterUrl(t){const{decodedUrl:e,originalUrl:i}=t;return t?`${this.baseUrl}${e||i}`:this.empty},rowClick(t){"multiple"===this.mode?this.currentIndex.some(e=>e.id==t.id)?this.currentIndex=this.currentIndex.filter(e=>e.id!==t.id):this.currentIndex.push(t):this.currentIndex=[t]},confirm(){let t=JSON.parse(JSON.stringify(this.currentIndex));this.material.data=[];let e=!1;if(t.forEach(t=>{const{decodedUrl:i,originalUrl:n}=t;t.url=`${this.baseUrl}${i||n}`,t.addition?t.addition=t.addition.split(",").map(t=>this.baseUrl+t):e=!0,this.material.data.push(t)}),e&&"file"===this.currentType)return this.$notify.warning("当前文档未转换成功");if("multiple"===this.mode)this.$emit("confirm",this.material.data);else{const t=this.material.data;this.$emit("confirm",t.length?t[0]:{})}},getListMaterial(){this.material.loading=!0,Number(this.material.groupId)||(this.material.groupId=""),st({name:this.material.name,groupId:this.material.groupId,type:this.material.type,current:this.material.current,size:this.material.size}).then(t=>{const{total:e,data:i}=t;i&&(i.forEach((t,e)=>{if("file"===t.type){const n=t.addition?t.addition.split(","):[""];i[e].decodedUrl=n[0]}}),this.material.list=i,this.material.total=e),this.material.loading=!1})},resetQuery(){this.$refs.queryForm.resetFields(),this.material.current=1,this.material.groupId="",this.getListMaterial()}},created(){this.equipment||(this.getListMaterial(),this.getTree())}},rt=ot,ct=(i("c3f9"),Object(d["a"])(rt,Y,q,!1,null,null,null)),ut=ct.exports;n["default"].component("draggable-resizable",O),n["default"].component("draggable",E.a),n["default"].component("codeEditor",J),n["default"].component("material",ut);const pt=i("18af");pt.keys().map(pt).forEach(t=>{n["default"].component(t.default.name,t.default)});var ht={formatStyle(t){const e=JSON.parse(JSON.stringify(t)),i=["width","height","top","bottom","left","right","fontSize","borderRadius"],n=["animationDuration"],l=["rotateZ"];return Object.keys(e).forEach(t=>{i.includes(t)&&(e[t]=e[t]+"px"),n.includes(t)&&(e[t]=e[t]+"s"),l.includes(t)&&(e["transform"]=`rotateZ(${e[t]}deg)`)}),e},formatDate(t,e="Y-M-D",i=!1){let n=10===(t+"").length?new Date(1e3*parseInt(t)):new Date(parseInt(t)),l=n.getFullYear(),s=n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1,a=n.getDate()<10?"0"+n.getDate():n.getDate(),o=n.getHours()<10?"0"+n.getHours():n.getHours(),r=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),c=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds(),u="",p=(new Date).getTime()-n.getTime();if(i)if(p<=6e4){let t=Math.floor(p/1e3%60);u=t+"秒前"}else if(p<=36e5){let t=Math.floor(p/6e4%60);u=t+"分钟前"}else if(p<=864e5){let t=Math.floor(p/36e5%24);u=t+"小时前"}else if(p<=2592e6){let t=Math.floor(p/864e5%30);u=t+"天前"}else u=l+"-"+s+"-"+a;else switch(e){case"Y-M-D H:I:S":u=l+"-"+s+"-"+a+" "+o+":"+r+":"+c;break;case"YMD":u=l+""+s+a;break;case"YMD HIS":u=l+""+s+a+o+r;break;case"Y-M-D H:I:S zh":u=l+"年"+s+"月"+a+"日  "+o+":"+r+":"+c;break;case"Y-M-D H:I":u=l+"-"+s+"-"+a+" "+o+":"+r;break;case"M-D H:I":u=s+"."+a+" "+o+":"+r;break;case"Y-M-D H":u=l+"-"+s+"-"+a+" "+o;break;case"Y-M-D":u=l+"-"+s+"-"+a;break;case"Y-M-D zh":u=l+"年"+s+"月"+a+"日";break;case"Y-M":u=l+"-"+s;break;case"M-D":u=s+"-"+a;break;case"M-D zh":u=s+"月"+a+"日";break;case"Y":u=l;break;case"M":u=s;break;case"D":u=a;break;case"H":u=o;break;case"I":u=r;break;case"S":u=c;break;default:u=l+"-"+s+"-"+a+" "+o+":"+r+":"+c;break}return u},formatCount(t,e){let i=10===(t+"").length?new Date(1e3*parseInt(t)):new Date(parseInt(t)),n=i.getTime()-(new Date).getTime(),l="",s=Math.floor(n/864e5%30),a=Math.floor(n/36e5%24),o=Math.floor(n/6e4%60),r=Math.floor(n/1e3%60);switch(s=s>=0?s:0,a=a>=0?a:0,o=o>=0?o:0,r=r>=0?r:0,e){case"D H:I:S":l=s+"天"+a+"时"+o+"分"+r+"秒";break;case"H:I:S":l=a+24*s+"时"+o+"分"+r+"秒";break;case"D":l=s+"天";break;case"H":l=a+24*s+"时";break;case"I":l=60*(a+24*s)+o+"分";break;case"S":l=60*(60*(a+24*s)+o)+r+"秒";break;default:l=s+"天"+a+"时"+o+"分"+r+"秒";break}return l},uuid(t=32){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";let i="";for(let n=0;n<t;n++)i+=e.charAt(Math.floor(Math.random()*e.length));return i}},dt={exitFull(){const{exitFullscreen:t,mozCancelFullScreen:e,webkitExitFullscreen:i}=document,n=t||e||i;if(n)n.call(document).then(t=>t);else if("undefined"!==typeof window.ActiveXObject){const t=new ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}},fullScreen(t=document.documentElement){const{requestFullScreen:e,webkitRequestFullScreen:i,mozRequestFullScreen:n,msRequestFullScreen:l}=t,s=e||i||n||l;if(s)s.call(t);else if("undefined"!==typeof window.ActiveXObject){const t=new ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}},cacheVuex(t){sessionStorage.getItem("store")&&t.$store.replaceState(Object.assign({},t.$store.state,JSON.parse(sessionStorage.getItem("store")))),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("store",JSON.stringify(t.$store.state))})},forbidZoom(){document.addEventListener("keydown",(function(t){const e=[61,107,173,109,187,189],{ctrlKey:i,metaKey:n,keyCode:l}=t;(i||n)&&e.includes(l)&&t.preventDefault()}),!1),document.addEventListener("mousewheel",(function(t){t=t||window.event,(t.wheelDelta&&event.ctrlKey||t.detail)&&event.preventDefault()}),{capture:!1,passive:!1})}};n["default"].prototype.$utils=ht,n["default"].prototype.$window=dt;var mt=i("a925"),gt=i("b2d6"),ft=i.n(gt),vt=i("f0d9"),bt=i.n(vt),yt={name:"pluginType",type:"Array",data:[{id:0,type:"common",icon:"el-icon-coin",name:"常用"},{id:1,type:"media",icon:"el-icon-video-camera",name:"媒体"},{id:2,type:"senior",icon:"el-icon-water-cup",name:"高级"}],en:[{id:0,type:"common",icon:"el-icon-coin",name:"Common"},{id:1,type:"media",icon:"el-icon-video-camera",name:"Media"},{id:2,type:"senior",icon:"el-icon-water-cup",name:"Senior"}]},wt={name:"plugins",type:"Array",data:[[{id:0,classify:"common",type:"text",icon:"el-icon-collection-tag",name:"文本",disabled:!1,attribute:{type:"text",name:"文本",plugin:"textPlugin",config:"textConfig",style:{left:0,top:0,width:200,fontSize:32,fontWeight:"normal",fontStyle:"normal",overflow:"hidden",height:50,lineClamp:3,color:"#2b2b2b",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{readAloud:!1,text:"文本",animation:{animationName:"",animationDuration:5}},methods:{}}},{id:1,classify:"common",type:"button",icon:"el-icon-mouse",name:"按钮",disabled:!1,attribute:{type:"button",name:"按钮",plugin:"buttonPlugin",config:"buttonConfig",style:{left:110,top:110,width:150,height:50,fontSize:16,textAlign:"center",fontWeight:"normal",fontStyle:"normal",color:"#ffffff",backgroundColor:"#4092ff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{name:"按钮",entrance:"",type:"page",path:"",app:""},methods:{}}}],[{id:2,classify:"media",icon:"el-icon-service",name:"音频",type:"audio",disabled:!1,attribute:{type:"audio",name:"音频",plugin:"audioPlugin",config:"audioConfig",style:{left:110,top:110,width:50,height:50,color:"#4092ff",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{autoplay:!1,controls:!1,loop:!1,default:!1,src:""},methods:{}}},{id:3,classify:"media",type:"image",icon:"el-icon-picture-outline",name:"图片",attribute:{type:"image",name:"Image",plugin:"picturePlugin",config:"pictureConfig",style:{left:10,top:10,width:500,height:200,backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{list:[],loop:!0},methods:{}}},{id:4,classify:"media",icon:"el-icon-monitor",name:"视频",type:"video",disabled:!1,attribute:{type:"video",name:"视频",plugin:"videoPlugin",config:"videoConfig",style:{left:10,top:10,width:500,height:200,backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{mute:!1,volume:100,autoplay:!0,controls:!1,loop:!0,name:"",duration:"",resolution:"",id:"",src:""},methods:{}}}],[{id:6,classify:"senior",icon:"el-icon-alarm-clock",name:"日期",disabled:!1,attribute:{type:"date",name:"日期",plugin:"datePlugin",config:"dateConfig",style:{left:10,top:10,width:200,height:100,fontSize:16,fontWeight:"normal",fontStyle:"normal",color:"#2b2b2b",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{format:"",date:(new Date).getTime()},methods:{}}},{id:7,classify:"senior",icon:"el-icon-timer",name:"倒计时",disabled:!1,attribute:{type:"date",name:"倒计时",plugin:"countdownPlugin",config:"countdownConfig",style:{left:10,top:10,width:200,height:100,fontSize:16,fontWeight:"normal",fontStyle:"normal",color:"#2b2b2b",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{format:"",date:(new Date).getTime()},methods:{}}},{id:9,classify:"senior",icon:"el-icon-tickets",name:"网页",disabled:!1,attribute:{type:"date",name:"网页",plugin:"iframePlugin",config:"iframeConfig",style:{pointerEvents:"none",left:10,top:10,width:200,height:100,backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{src:"http://"},methods:{}}}]],en:[[{id:0,classify:"common",type:"text",icon:"el-icon-collection-tag",name:"Text",disabled:!1,attribute:{type:"text",name:"Text",plugin:"textPlugin",config:"textConfig",style:{left:0,top:0,width:200,fontSize:32,fontWeight:"normal",fontStyle:"normal",overflow:"hidden",height:50,lineClamp:3,color:"#2b2b2b",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{readAloud:!1,text:"文本",animation:{animationName:"",animationDuration:5}},methods:{}}},{id:1,classify:"common",type:"button",icon:"el-icon-mouse",name:"Button",disabled:!1,attribute:{type:"button",name:"Button",plugin:"buttonPlugin",config:"buttonConfig",style:{left:110,top:110,width:150,height:50,fontSize:16,textAlign:"center",fontWeight:"normal",fontStyle:"normal",color:"#ffffff",backgroundColor:"#4092ff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{name:"按钮",entrance:"",type:"page",path:""},methods:{}}}],[{id:2,classify:"media",icon:"el-icon-service",name:"Audio",type:"audio",disabled:!1,attribute:{type:"audio",name:"Audio",plugin:"audioPlugin",config:"audioConfig",style:{left:110,top:110,width:50,height:50,color:"#4092ff",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{autoplay:!1,controls:!1,loop:!1,default:!1,src:""},methods:{}}},{id:3,classify:"media",type:"image",icon:"el-icon-picture-outline",name:"Image",attribute:{type:"image",name:"Image",plugin:"picturePlugin",config:"pictureConfig",style:{left:10,top:10,width:300,height:200,backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{list:[{id:1,type:"image",src:"",duration:10,name:"",mute:!1}],loop:!0},methods:{}}},{id:4,classify:"media",icon:"el-icon-monitor",name:"Video",type:"video",disabled:!1,attribute:{type:"video",name:"Video",plugin:"videoPlugin",config:"videoConfig",style:{left:10,top:10,width:300,height:200,backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{mute:!1,volume:100,autoplay:!0,controls:!1,loop:!0,name:"",duration:"",resolution:"",id:"",src:""},methods:{}}}],[{id:6,classify:"senior",icon:"el-icon-alarm-clock",name:"Date",disabled:!1,attribute:{type:"date",name:"Date",plugin:"datePlugin",config:"dateConfig",style:{left:10,top:10,width:200,height:100,fontSize:16,fontWeight:"normal",fontStyle:"normal",color:"#2b2b2b",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{format:"",date:(new Date).getTime()},methods:{}}},{id:7,classify:"senior",icon:"el-icon-timer",name:"Countdown",disabled:!1,attribute:{type:"date",name:"Countdown",plugin:"countdownPlugin",config:"countdownConfig",style:{left:10,top:10,width:200,height:100,fontSize:16,fontWeight:"normal",fontStyle:"normal",color:"#2b2b2b",backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{format:"",date:(new Date).getTime()},methods:{}}},{id:9,classify:"senior",icon:"el-icon-tickets",name:"Iframe",disabled:!1,attribute:{type:"date",name:"Iframe",plugin:"iframePlugin",config:"iframeConfig",style:{pointerEvents:"none",left:10,top:10,width:200,height:100,backgroundColor:"#ffffff",borderRadius:0,opacity:100,rotateZ:0,transformOrigin:"center"},attr:{src:"http://"},methods:{}}}]]},xt={header:{plugins:wt.en,pluginType:yt.en,InformationPublishingDesigner:"IPD",menuList:[{name:"Export",icon:"el-icon-download",type:"exportVisible"},{name:"Preview",icon:"el-icon-view",method:"preview"},{name:"Save",icon:"el-icon-folder",method:"save"},{name:"FullScreen",icon:"el-icon-full-screen",method:"fullScreen"},{name:"Close",icon:"el-icon-close",method:"close"}]},program:{name:"Name："},setting:{controlRulerList:[{name:"Scale ruler",type:"ruler"},{name:"Guides",type:"referLine"}],controlList:[{name:"Screen",type:"screen"},{name:"Attribute",type:"attribute"},{name:"Layer",type:"layer"}]},plugin:{name:"Name",size:"Size（px）",duration:"Duration（s）",transparency:"Transparency",backgroundColor:"Background Color",backgroundImage:"Background Image",chooseImage:"Choose Image",position:"Position（px）",revolve:"Revolve",roundedCorners:"Rounded Corners",textContent:"Text Content",color:"Color",font:"Font",background:"Background",fontSize:"Font Size",howManyLines:"The ellipsis is displayed after how many lines",normal:"Normal",italic:"Italic",oblique:"Oblique",lighter:"Lighter",bold:"Bold",yes:"Yes",no:"No",layout:"Layout",left:"Left",center:"Center",right:"Right",justify:"Justify",static:"Static",toLeft:"To Left",toRight:"To Right",toTop:"To Top",toBottom:"To Bottom",cycle:"Cycle（s）",readAloud:"Read Aloud",buttonPlaceholder:"Please enter a button name",jump:"Jump",page:"Page",webPage:"Web page",pagePlaceholder:"Please select a page",webPlaceholder:"Please enter the URL",fontSizePlaceholder:"Please enter a font size",fontWeight:"Font weight",path:"Path",audioPlaceholder:"Please enter an audio address",choose:"Choose",config:"Config",icon:"Icon",defaultAudio:"Default player",autoplay:"Autoplay",controls:"Display controllers",loopPlay:"Loop playback",chooseVideo:"Choose video",mute:"Mute",volume:"Volume",list:"List",add:"Add",swiper:"Swiper",second:"Second",pathPlaceholder:"Please enter an address",supportedFormats:"Supported formats",selectCity:"Select a city",weatherCycle:"Weather cycles",everyDay:"Every day",hour:"Hour",textTop:"Text top",textBottom:"Text bottom",baseline:"baseline",middle:"middle",iconAlign:"Icon align",iconSize:"Icon size",iconPlaceholder:"Please select the icon alignment",format:"Date format",showFormatPlaceholder:"Please select a display format",deadline:"Deadline",chooseDate:"Select a date",mask:"Whether to mask",selectDocument:"Select the document",documentCycle:"Document Switching Cycle (seconds)",animation:"Animation",auto:"Auto",loop:"Loop",carouselDirection:"Carousel direction",default:"Default",card:"Card mode",vertical:"Vertical",indicatorPosition:"Indicator position",outside:"outside",none:"none",templatePlaceholder:"Please enter a template name",createTime:"Create Time",search:"Search",rest:"Rest",visibleRange:"Visible range",rangePlaceholder:"Please select a visible range",private:"Private",public:"Public",selectTemplate:"Select a template",selectFootage:"Select the footage",app:"Third-party apps",appPlaceholder:"Please enter a package name"},tips:{canvas:"Tip: Press and hold the space to drag the canvas",video:"Your browser does not support the video tag",cancel:"Cancel",confirm:"Confirm",copy:"Copy",delete:"Delete",full:"Full",download:"Download",import:"Import",export:"Export",file:"File",data:"Data",upload:"Drag the JSON file here, or",clickUpload:"Click Upload"}},kt={header:{plugins:wt.data,pluginType:yt.data,InformationPublishingDesigner:"h5ve设计器",menuList:[{name:"导出",icon:"el-icon-download",type:"exportVisible"},{name:"预览",icon:"el-icon-view",method:"preview"},{name:"保存",icon:"el-icon-folder",method:"save"},{name:"全屏",icon:"el-icon-full-screen",method:"fullScreen"},{name:"退出",icon:"el-icon-close",method:"close"}]},program:{name:"名称："},setting:{controlRulerList:[{name:"刻度尺",type:"ruler"},{name:"辅助线",type:"referLine"}],controlList:[{name:"画布",type:"screen"},{name:"属性",type:"attribute"},{name:"图层",type:"layer"}]},plugin:{name:"名称",size:"尺寸（px）",duration:"时长（秒）",transparency:"透明度",backgroundColor:"背景颜色",backgroundImage:"背景图片",chooseImage:"选择图片",position:"位置（px）",revolve:"旋转",roundedCorners:"圆角",textContent:"文本内容",color:"颜色",font:"字体",background:"背景",fontSize:"字号",howManyLines:"多少行后显示省略号",normal:"默认",italic:"斜体",oblique:"倾斜",lighter:"极细",bold:"粗体",yes:"是",no:"否",layout:"布局",left:"靠左",center:"居中",right:"靠右",justify:"两端",static:"静止",toLeft:"向左运动",toRight:"向右运动",toTop:"向上运动",toBottom:"向下运动",cycle:"周期（s）",readAloud:"是否朗读",buttonPlaceholder:"请输入按钮名称",jump:"跳转",page:"页面",webPage:"网页",pagePlaceholder:"请选择页面",webPlaceholder:"请输入网址",fontSizePlaceholder:"请输入字体大小",fontWeight:"字重",path:"地址",audioPlaceholder:"请输入音频地址",choose:"选择",config:"配置",icon:"图标",defaultAudio:"默认播放器",autoplay:"自动播放",controls:"显示控制器",loopPlay:"循环播放",chooseVideo:"选择视频",mute:"静音",volume:"音量",list:"列表",add:"添加",swiper:"轮播",second:"秒",pathPlaceholder:"请输入地址",supportedFormats:"支持格式",selectCity:"选择城市",weatherCycle:"天气周期",everyDay:"每天",hour:"小时",textTop:"文本上",textBottom:"文本下",baseline:"文本基线",middle:"居中",iconAlign:"图标对齐方式",iconSize:"图标大小",iconPlaceholder:"请选择图标对齐方式",format:"日期格式",showFormatPlaceholder:"请选择显示格式",deadline:"截止时间",chooseDate:"选择日期",mask:"是否遮罩",selectDocument:"选择文档",documentCycle:"文档切换周期（秒）",animation:"动画",auto:"自动",loop:"循环",carouselDirection:"轮播方向",default:"默认",card:"卡片模式",vertical:"竖向",indicatorPosition:"指示器的位置",outside:"容器外",none:"隐藏",templatePlaceholder:"请输入模板名称",createTime:"创建时间",search:"搜索",rest:"重置",visibleRange:"可见范围",rangePlaceholder:"请选择可见范围",private:"私有",public:"共享",selectTemplate:"选择模板",selectFootage:"选择素材",app:"第三方应用",appPlaceholder:"请输入包名"},tips:{canvas:"提示：按住空格键可拖动画布",video:"您的浏览器不支持 video 标签",cancel:"取 消",confirm:"确 认",copy:"复制",delete:"删除",full:"全屏",download:"下载",import:"导入",export:"导出",file:"文件",data:"数据",upload:"将JSON文件拖到此处，或 ",clickUpload:"点击上传"}},_t=i("5c96"),$t=i.n(_t);i("0fae");n["default"].use(mt["a"]);const St={en:{...xt,...ft.a},zh:{...kt,...bt.a}},Ct=new mt["a"]({locale:lt.a.get("language")||"zh",messages:St});n["default"].use($t.a,{i18n:(t,e)=>Ct.t(t,e)});var Tt=Ct,Pt=i("2f62"),At={name:"h5ve设计器",author:{name:"h5ve团队",email:"",url:""},entrance:0,views:[{name:"页面一",plugins:[],duration:100,width:375,height:667,style:{opacity:100,backgroundColor:"#fff"},attr:{src:""}}],config:{}};n["default"].use(Pt["a"]);var It=new Pt["a"].Store({state:{project:At,language:lt.a.get("language")||"zh",history:{quash:[],recover:[]},setting:{ruler:["ruler"],disposition:"screen"},active:{plugin:0},visual:{zoom:[100],lines:[{h:[0,200],v:[0,200]}]}},getters:{project:t=>t.project,quash:t=>t.history.quash,recover:t=>t.history.recover,projectViews:(t,e)=>t.project.views,entrance:t=>t.project.entrance,duration:(t,e)=>t.project.views[e.entrance].duration,ruler:t=>t.setting.ruler,rulerStatus:(t,e)=>e.ruler.includes("ruler"),referLineStatus:(t,e)=>e.ruler.includes("referLine"),disposition:t=>t.setting.disposition,active:t=>t.active,visual:t=>t.visual},mutations:{SET_LINES:(t,e)=>{let i=JSON.parse(JSON.stringify(t.visual));i.lines[t.project.entrance]=e,t.visual=i},SET_LANGUAGE:(t,e)=>{t.language=e,lt.a.set("language",e)},IMPORT_PROJECT:(t,e)=>{t.project=e.value},UPDATE_DURATION:(t,e)=>{const{duration:i}=e;t.project.views[t.project.entrance].duration=i},UPDATE_PLUGIN:(t,e)=>{const{viewIndex:i,pluginIndex:n,key:l,value:s}=e;t.project.views[i].plugins[n][l]=s},UPDATE_INFO:(t,e)=>{const{key:i,value:n}=e;t.project[i]=n},UPDATE_VIEW:(t,e)=>{const{index:i,number:n,value:l}=e;(i||0===i)&&n&&l?t.project.views.splice(i,n,JSON.parse(JSON.stringify(l))):(i||0===i)&&n?t.project.views.splice(i,n):t.project.views.push(JSON.parse(JSON.stringify(l)))},UPDATE_VIEW_PLUGIN:(t,e)=>{const{index:i,number:n,value:l,draggable:s}=e;(i||0===i)&&n?t.project.views[t.project.entrance].plugins.splice(i,n):s&&l?t.project.views[t.project.entrance].plugins=l:l?t.project.views[t.project.entrance].plugins.push(JSON.parse(JSON.stringify(l))):t.project.views[t.project.entrance].plugins.splice(0)},UPDATE_RULER:(t,e)=>{const{value:i}=e,n=t.setting.ruler,l=n.includes(i);if(l)if("ruler"===i)t.setting.ruler=[];else{const e=n.findIndex(t=>t===i);t.setting.ruler.splice(e,1)}else"referLine"===i?t.setting.ruler=["ruler","referLine"]:t.setting.ruler.push(i)},UPDATE_SETTING:(t,e)=>{const{key:i,value:n}=e;t.setting[i]=n},UPDATE_ACTIVE:(t,e)=>{const{key:i,value:n}=e;t.active[i]=n},UPDATE_VISUAL:(t,e)=>{const{index:i,number:n,key:l,value:s}=e;(i||0===i)&&n&&s?t.visual[l].splice(i,n,s):(i||0===i)&&n?t.visual[l].splice(i,n):s&&t.visual[l].push(JSON.parse(JSON.stringify(s)))}},actions:{},modules:{}}),jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-header-container"},[e("div",{staticClass:"header-left"},[e("span",{staticClass:"el-icon-data-board"}),e("label",[t._v(t._s(t.config.title||t.$t("header.InformationPublishingDesigner")))])]),e("div",{staticClass:"header-nav"},[e("ul",{staticClass:"flex-row nav-item project-name"},[e("li",[e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("program.name")))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.project.name,expression:"project.name"}],domProps:{value:t.project.name},on:{input:function(e){e.target.composing||t.$set(t.project,"name",e.target.value)}}})])]),e("ul",{staticClass:"flex-row nav-item control-canvas"},[e("li",{staticClass:"pointer",on:{click:t.shrink}},[e("span",{staticClass:"el-icon-minus",staticStyle:{"font-weight":"700"}})]),e("li",{staticClass:"pointer"},[e("el-dropdown",{attrs:{placement:"bottom"},on:{command:t.commandZoom}},[e("span",{staticStyle:{color:"#4092ff"}},[t._v(" "+t._s(t.zoom)+"% ")]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{attrs:{command:400}},[t._v("400%")]),e("el-dropdown-item",{attrs:{command:200}},[t._v("200%")]),e("el-dropdown-item",{attrs:{command:150}},[t._v("150%")]),e("el-dropdown-item",{attrs:{command:100}},[t._v("100%")]),e("el-dropdown-item",{attrs:{command:50}},[t._v("50%")]),e("el-dropdown-item",{attrs:{command:20}},[t._v("20%")])],1)],1)],1),e("li",{staticClass:"pointer",on:{click:t.magnify}},[e("span",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"700"}})])]),e("ul",{staticClass:"flex-row nav-item menu-list"},t._l(t.$t("header.menuList"),(function(i,n){return e("li",{key:"menu_list"+n,on:{click:function(e){return t.handleMenuList(i)}}},[e("label",[e("span",{class:i.icon,staticStyle:{"font-weight":"700"}}),e("span",[t._v(" "+t._s(i.name))])])])})),0)]),e("el-dialog",{attrs:{title:t.$t("tips.export"),top:"5vh","close-on-click-modal":!1,visible:t.exportVisible},on:{"update:visible":function(e){t.exportVisible=e}}},[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportJson}},[t._v(t._s(t.$t("tips.download"))+"JSON")]),e("el-button",{attrs:{size:"small"},on:{click:function(e){t.exportVisible=!1}}},[t._v(t._s(t.$t("tips.cancel")))])],1),e("code-editor",{attrs:{code:t.code,readonly:!0}})],1),e("el-dialog",{attrs:{title:t.$t("tips.import"),top:"5vh","close-on-click-modal":!1,visible:t.importVisible},on:{"update:visible":function(e){t.importVisible=e}}},[e("div",{staticClass:"flex-row-between",staticStyle:{"margin-bottom":"10px"}},[e("div",[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.confirmImport}},[t._v(t._s(t.$t("tips.confirm")))]),e("el-button",{attrs:{size:"small"},on:{click:function(e){t.importVisible=!1}}},[t._v(t._s(t.$t("tips.cancel")))])],1),e("el-switch",{attrs:{"active-text":t.$t("tips.import")+"JSON"+t.$t("tips.file"),"inactive-text":t.$t("tips.import")+"JSON"+t.$t("tips.data")},model:{value:t.isJsonFile,callback:function(e){t.isJsonFile=e},expression:"isJsonFile"}})],1),t.isJsonFile?e("el-upload",{attrs:{drag:"",action:""}},[e("i",{staticClass:"el-icon-document",staticStyle:{"font-size":"40px",margin:"39px 0 20px 0"}}),e("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$t("tips.upload"))),e("em",[t._v(t._s(t.$t("tips.clickUpload")))])])]):e("code-editor",{attrs:{code:t.code},on:{input:t.inputCode}})],1),e("preview-dialog",{attrs:{visible:t.previewVisible},on:{"close-preview":function(e){t.previewVisible=!1}}})],1)},Nt=[],Mt=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"dialog-container",attrs:{"destroy-on-close":"","show-close":!1,width:"800px",title:"名称："+t.projectName,visible:t.visible},on:{close:function(e){return t.$emit("close-preview")},"update:visible":function(e){t.visible=e}}},[e("div",{style:{height:t.height+"px"}},[e("h5ve-publish",{attrs:{id:"box",show:t.visible}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("span",{staticStyle:{float:"left"}},[e("el-button",{attrs:{size:"medium"},on:{click:t.previous}},[t._v("上一页")]),e("el-button",{attrs:{size:"medium"},on:{click:t.next}},[t._v("下一页")])],1),e("el-button",{attrs:{size:"medium"},on:{click:function(e){return t.$emit("close-preview")}}},[t._v("关 闭")])],1)])},zt=[],Ot=function(){var t=this,e=t._self._c;return t.preview||t.show?e("div",{style:t.style},t._l(t.plugins,(function(t,i){return e(t.plugin,{key:"h5ve-publish-container."+i,tag:"component",attrs:{preview:!0,attribute:t}})})),1):t._e()},Dt=[],Et={name:"h5vePublish",inject:["publish","equipment"],props:{show:{type:Boolean,default(){return!1}}},data(){return{preview:!1}},computed:{...Object(Pt["b"])(["projectViews","entrance"]),plugins(){return this.projectViews[this.entrance].plugins},views(){return this.projectViews[this.entrance]},style(){const t=800/this.views.width;let e={width:this.views.width+"px",height:this.views.height+"px",transform:`scale(${t})`,transformOrigin:"0 0",opacity:this.views.style.opacity/100,background:`url(${this.views.attr.src}) no-repeat 50% ${this.views.style.backgroundColor}`};return this.equipment&&(delete e.transform,delete e.transformOrigin),e}},created(){this.preview=this.equipment}},Lt=Et,Vt=Object(d["a"])(Lt,Ot,Dt,!1,null,null,null),Rt=Vt.exports,Wt={name:"previewDialog",props:{visible:{type:Boolean,default:!1}},data(){return{project:null,projectName:"",height:0}},computed:{...Object(Pt["b"])(["projectViews","entrance"]),views(){return this.projectViews[this.entrance]}},components:{h5vePublish:Rt},watch:{visible:{deep:!0,immediate:!0,handler(){const t=sessionStorage.getItem("PREVIEW_INFO");this.project=JSON.parse(t),this.projectName=this.project?this.project.name:null,this.$nextTick(()=>{var t;const e=null===(t=document.getElementById("box"))||void 0===t?void 0:t.offsetHeight,i=800/this.views.width;this.height=e*i})}}},methods:{previous(){const t=this.projectViews.length;if(2!==t||1!==this.entrance)return this.$notify.warning("当前是第一页");this.$store.commit("UPDATE_INFO",{key:"entrance",value:0})},next(){const t=this.projectViews.length;if(2!==t||0!==this.entrance)return this.$notify.warning("当前是最后一页");this.$store.commit("UPDATE_INFO",{key:"entrance",value:1})}}},Ut=Wt,Ht=(i("f420"),Object(d["a"])(Ut,Mt,zt,!1,null,"02f0bf14",null)),Ft=Ht.exports,Bt={name:"h5veHeader",components:{codeEditor:J,previewDialog:Ft},inject:["config"],computed:{...Object(Pt["b"])(["projectViews","entrance","visual","quash","recover","project"]),plugins(){return this.projectViews[this.entrance].plugins},views(){return this.projectViews[this.entrance]},title(){return this.projectViews[this.entrance].name},code(){const t=this.$store.state.project;return JSON.stringify(t,null,"\t")},zoom(){return this.visual.zoom[this.entrance]},style(){const t=document.body.clientWidth/this.views.width;return{width:this.views.width+"px",height:this.views.height+"px",transform:`scale(${t})`}}},data(){return{templateVisible:!1,previewVisible:!1,exportVisible:!1,importVisible:!1,isJsonFile:!1,fullScreen:!1}},methods:{templateConfirm(t){const e=JSON.parse(JSON.stringify(this.$store.state.project)),i=JSON.parse(t.layout);e.views=i.views,e.entrance=i.entrance,this.$store.commit("IMPORT_PROJECT",{value:e}),this.templateVisible=!1},templateImport(){this.templateVisible=!0},commandZoom(t){this.$store.commit("UPDATE_VISUAL",{index:this.entrance,number:1,key:"zoom",value:t})},magnify(){const t=this.zoom+20;this.$store.commit("UPDATE_VISUAL",{index:this.entrance,number:1,key:"zoom",value:t<400?t:400})},shrink(){const t=this.zoom-20;this.$store.commit("UPDATE_VISUAL",{index:this.entrance,number:1,key:"zoom",value:t>20?t:20})},handleMenuList(t){t.type?this[t.type]=!0:"save"===t.method||"import"===t.method?this.$emit("emit",t.method):"fullScreen"===t.method?(this.fullScreen?this.$window.exitFull():this.$window.fullScreen(),this.fullScreen=!this.fullScreen):"preview"===t.method?this.previewVisible=!0:"close"===t.method&&this.$emit("emit",t.method)},inputCode(t){try{this.jsonStr=JSON.parse(t)}catch(e){this.jsonStr=null,this.$notify({title:"系统提示",message:"JSON格式错误",type:"warning"})}},confirmImport(){this.jsonStr?(this.$store.commit("IMPORT_PROJECT",{value:this.jsonStr}),this.importVisible=!1):this.$notify({title:"系统提示",message:"JSON格式错误",type:"warning"})},exportJson(){const t=encodeURIComponent(this.code),e=Date.now()+".json",i="data:application/json;charset=UTF-8,"+t,n=document.createElement("a");n.download=e,n.href=i,n.click(),URL.revokeObjectURL(n.href)}}},Jt=Bt,Yt=(i("be95"),Object(d["a"])(Jt,jt,Nt,!1,null,"f37f59f4",null)),qt=Yt.exports,Xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-aside-container"},[e("div",{staticClass:"aside-nav"},[e("ul",t._l(t.$t("header.pluginType"),(function(i,n){return e("li",{key:"plugin_type"+n,on:{click:function(e){t.currentTarget=n}}},[e("label",{class:{active:t.currentTarget===n}},[e("span",{class:i.icon,staticStyle:{"font-size":"20px"}}),e("p",{staticStyle:{"font-size":"14px","word-break":"break-all"}},[t._v(t._s(i.name))])])])})),0)]),e("div",{staticClass:"aside-section"},[e("ul",[e("draggable",{attrs:{options:{name:"asidePlugin",sort:!1,draggable:".plugin-item",animation:300}},model:{value:t.$t("header.plugins")[t.currentTarget],callback:function(e){t.$set(t.$t("header.plugins"),t.currentTarget,e)},expression:"$t('header.plugins')[currentTarget]"}},t._l(t.$t("header.plugins")[t.currentTarget],(function(i,n){return e("li",{key:"aside-section"+n,staticClass:"plugin-item",on:{click:function(e){return t.pushPlugin(i)}}},[e("label",[e("span",{class:i.icon,staticStyle:{"font-size":"20px"}}),e("div",{staticStyle:{"font-size":"14px","margin-left":"10px"}},[t._v(t._s(i.name))])])])})),0)],1)])])},Zt=[],Gt={name:"h5veAside",data(){return{currentTarget:0}},methods:{pushPlugin(t){t.disabled?this.$notify({title:"系统提示",message:"该组件正在开发中",type:"warning"}):(this.$store.commit("UPDATE_VIEW_PLUGIN",{value:t.attribute}),this.$store.commit("UPDATE_SETTING",{key:"disposition",value:"attribute"}))}}},Kt=Gt,Qt=(i("82b2"),Object(d["a"])(Kt,Xt,Zt,!1,null,"716861ab",null)),te=Qt.exports,ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-main-container"},[e("h5ve-sheet"),e("h5ve-canvas"),e("h5ve-control")],1)},ie=[],ne=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-sheet-container",attrs:{id:"canvas-sheet"}},[e("div",[e("ul",{staticClass:"canvas-sheet-list"},t._l(t.projectViews,(function(i,n){return e("li",{key:n,staticClass:"canvas-sheet-item pointer",class:{active:n===t.entrance},on:{contextmenu:function(e){return e.preventDefault(),t.openMenu(e,i,n)},click:function(e){return t.handoffView(i,n)}}},[e("span",{staticClass:"el-icon-monitor",staticStyle:{"font-size":"16px"}}),e("span",{staticStyle:{margin:"0 5px"}},[t._v(t._s(i.name))]),1!==t.projectViews.length?e("span",{staticClass:"el-icon-close el-icon-item",on:{click:function(e){return e.stopPropagation(),t.deleteView(i,n)}}}):t._e()])})),0)]),t.visible?e("ul",{staticClass:"contextmenu el-dropdown-menu el-dropdown-menu--small",staticStyle:{transition:".3s"},style:{left:t.left+"px",top:t.top+"px"}},[e("li",{staticClass:"el-dropdown-menu__item",on:{click:t.modify}},[e("span",{staticClass:"el-icon-edit"}),e("span",[t._v(" 修改")])]),e("li",{staticClass:"el-dropdown-menu__item",on:{click:t.copy}},[e("span",{staticClass:"el-icon-copy-document"}),e("span",[t._v(" 复制")])]),e("li",{staticClass:"el-dropdown-menu__item",on:{click:t.empty}},[e("span",{staticClass:"el-icon-delete"}),e("span",[t._v(" 清空")])])]):t._e(),e("el-dialog",{attrs:{title:t.viewForm.name||"新建页面",width:"520px","close-on-click-modal":!1,visible:t.visibleView},on:{"update:visible":function(e){t.visibleView=e}}},[e("el-form",{ref:"viewForm",attrs:{size:"small",model:t.viewForm,rules:t.rules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"页面名称",prop:"name"}},[e("el-input",{model:{value:t.viewForm.name,callback:function(e){t.$set(t.viewForm,"name",e)},expression:"viewForm.name"}})],1),e("el-form-item",{attrs:{label:"页面宽（px）",prop:"width"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:200,"controls-position":"right"},model:{value:t.viewForm.width,callback:function(e){t.$set(t.viewForm,"width",t._n(e))},expression:"viewForm.width"}})],1),e("el-form-item",{attrs:{label:"页面高（px）",prop:"height"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:200,"controls-position":"right"},model:{value:t.viewForm.height,callback:function(e){t.$set(t.viewForm,"height",t._n(e))},expression:"viewForm.height"}})],1),e("el-form-item",{attrs:{label:"时长（秒）",prop:"duration"}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,"controls-position":"right"},model:{value:t.viewForm.duration,callback:function(e){t.$set(t.viewForm,"duration",t._n(e))},expression:"viewForm.duration"}})],1),e("el-form-item",{staticStyle:{"text-align":"right"}},[e("el-button",{on:{click:function(e){return t.cancelForm("viewForm")}}},[t._v("取 消")]),e("el-button",{on:{click:function(e){return t.resetForm("viewForm")}}},[t._v("重 置")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("viewForm")}}},[t._v("确 定")])],1)],1)],1)],1)},le=[],se={name:"h5veSheet",computed:{...Object(Pt["b"])(["projectViews","entrance"])},watch:{visible(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},data(){return{visible:!1,top:0,left:0,rules:{name:[{required:!0,message:"请输入页面名称",trigger:"blur"}],width:[{required:!0,message:"请输入页面宽",trigger:"blur"}],height:[{required:!0,message:"请输入页面高",trigger:"blur"}]},visibleView:!1,viewForm:{name:"",width:800,height:500,duration:10}}},methods:{handoffView(t,e){this.$store.commit("UPDATE_INFO",{key:"entrance",value:e})},deleteView(t,e){this.$confirm(`确定永久删除【${t.name}】页面吗?`,"系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$store.commit("UPDATE_VIEW",{index:e,number:1})})},empty(){this.$store.commit("UPDATE_VIEW_PLUGIN",{})},copy(){this.$store.commit("UPDATE_VIEW",{index:this.entrance,number:0,value:this.projectViews[this.entrance]}),this.$store.commit("UPDATE_VISUAL",{key:"lines",value:{h:[0,200],v:[0,200]}}),this.$store.commit("UPDATE_VISUAL",{key:"zoom",value:100}),this.$store.commit("UPDATE_INFO",{key:"entrance",value:this.entrance+1})},modify(){this.visibleView=!0,this.isModify=!0},newView(){this.isModify=!1,this.visibleView=!0},submitForm(t){this.$refs[t].validate(t=>{if(t){const t={name:this.viewForm.name,width:this.viewForm.width,height:this.viewForm.height,duration:this.viewForm.duration,plugins:this.isModify?this.viewForm.plugins:[],style:{opacity:100,backgroundColor:"#fff"},attr:{src:""}};this.isModify?this.$store.commit("UPDATE_VIEW",{index:this.entrance,number:this.viewIndex,value:t}):(this.$store.commit("UPDATE_VISUAL",{key:"lines",value:{h:[0,200],v:[0,200]}}),this.$store.commit("UPDATE_VISUAL",{key:"zoom",value:100}),this.$store.commit("UPDATE_INFO",{key:"entrance",value:this.entrance+1}),this.$store.commit("UPDATE_VIEW",{value:t})),this.cancelForm("viewForm")}})},resetForm(t){this.$refs[t].resetFields()},cancelForm(t){this.$refs[t].resetFields(),this.visibleView=!1},openMenu(t,e,i){},closeMenu(){this.visible=!1}}},ae=se,oe=(i("5f66"),Object(d["a"])(ae,ne,le,!1,null,"5b10074a",null)),re=oe.exports,ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-canvas-container",attrs:{id:"wrapper"}},[e("span",{staticClass:"homing-icon el-icon-aim pointer",on:{click:t.reposition}}),t.rulerStatus?e("sketch-rule",{attrs:{lang:t.lang,thick:t.thick,scale:t.scale,width:t.width,height:t.height,startX:t.startX,startY:t.startY,shadow:t.shadow,palette:t.palette,horLineArr:t.lines.h,verLineArr:t.lines.v,isShowReferLine:t.referLineStatus,cornerActive:!0},on:{handleLine:t.handleLine}}):t._e(),e("div",{ref:"screensRef",attrs:{id:"screens"},on:{mousedown:function(e){return e.stopPropagation(),t.dragMousedown.apply(null,arguments)},mouseup:t.dragMouseup,mousemove:t.dragMousemove,wheel:t.handleWheel,scroll:t.handleScroll}},[e("div",{ref:"containerRef",attrs:{id:"screen-container"}},[e("div",{style:t.canvasStyle,attrs:{id:"wrapperCanvas"}},[t._l(t.vLine,(function(t){return e("span",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"item.display"}],key:t.id,staticClass:"ref-line v-line",style:{left:t.position,top:t.origin,height:t.lineLength}})})),t._l(t.hLine,(function(t){return e("span",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"item.display"}],key:t.id,staticClass:"ref-line h-line",style:{top:t.position,left:t.origin,width:t.lineLength}})})),t._l(t.plugins,(function(i,n){return e("draggable-resizable",{key:"canvas_plugin_"+n,staticClass:"canvas-item",attrs:{parent:!0,x:i.style.left,y:i.style.top,w:i.style.width,h:i.style.height,id:i.plugin+"."+n,snapTolerance:5},on:{contextmenu:function(e){return e.preventDefault(),t.openMenu(e,i,n)},"update:active":t.active,click:function(e){return t.clickComp(n,i)},dragging:function(e){return t.onDrag(e,{component:i,index:n})},resizing:function(e){return t.onResize(e,{component:i,index:n})},refLineParams:t.getRefLineParams}},[e(i.plugin,{tag:"component",attrs:{attribute:i}})],1)}))],2)])]),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"contextmenu el-dropdown-menu el-dropdown-menu--small",staticStyle:{position:"fixed",transition:".3s","z-index":"1000"},attrs:{id:"canvasContextmenu"}},[e("li",{staticClass:"el-dropdown-menu__item",on:{click:t.copyPlugin}},[e("span",{staticClass:"el-icon-copy-document"}),e("span",[t._v(" "+t._s(t.$t("tips.copy")))])]),e("li",{staticClass:"el-dropdown-menu__item",on:{click:t.fullScreenPlugin}},[e("span",{staticClass:"el-icon-full-screen"}),e("span",[t._v(" "+t._s(t.$t("tips.full")))])]),e("li",{staticClass:"el-dropdown-menu__item",on:{click:t.removePlugin}},[e("span",{staticClass:"el-icon-delete"}),e("span",[t._v(" "+t._s(t.$t("tips.delete")))])])])],1)},ue=[],pe=i("bd15"),he={name:"h5veCanvas",data(){return{visible:!1,top:0,left:0,keys:{ctrl:!1},vLine:[],hLine:[],startX:0,startY:0,thick:20,width:500,height:800,lang:"zh-CN"}},components:{sketchRule:pe["a"]},watch:{visible(t){t?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},computed:{...Object(Pt["b"])(["projectViews","entrance","rulerStatus","referLineStatus","visual"]),plugins(){return this.projectViews[this.entrance].plugins},views(){return this.projectViews[this.entrance]},lines(){return this.visual.lines[this.entrance]},scale(){return this.handleWheel({}),this.visual.zoom[this.entrance]/100},palette(){return{bgColor:"#2b2b2b",longfgColor:"#fff",shortfgColor:"#4092ff ",fontColor:"#fff",shadowColor:"rgba(64, 146, 255, .1)",lineColor:"rgba(64, 146, 255, .5)",borderColor:"#f0f0f0",cornerActiveColor:"#4092ff"}},shadow(){return{x:0,y:0,width:this.views.width,height:this.views.height}},canvasStyle(){return{width:this.views.width+"px",height:this.views.height+"px",transform:`scale(${this.scale})`,backgroundSize:"60% auto",opacity:this.views.style.opacity/100,background:`url(${this.views.attr.src}) no-repeat 50% ${this.views.style.backgroundColor}`}},screen(){return{width:4*this.views.width+1e3,height:4*this.views.height+1e3}}},methods:{reposition(){let t=document.getElementById("wrapperCanvas"),e=(this.screen.width-this.views.width)/2,i=(this.screen.height-this.views.height)/2;t.style.left=e+"px",t.style.top=i+"px";const{scrollWidth:n,offsetWidth:l,scrollHeight:s,offsetHeight:a}=this.$refs.screensRef;let o=(n-l)/2,r=(s-a)/2;this.$refs.screensRef.scrollLeft=o;let c=t.getBoundingClientRect().left;this.$refs.screensRef.scrollLeft=o+c-340,this.$refs.screensRef.scrollTop=r;let u=t.getBoundingClientRect().top;this.$refs.screensRef.scrollTop=r+u-190},copyPlugin(){const t=sessionStorage.getItem("pluginInfo");this.$store.commit("UPDATE_VIEW_PLUGIN",{value:JSON.parse(t)})},removePlugin(){this.$store.commit("UPDATE_VIEW_PLUGIN",{index:sessionStorage.getItem("pluginInfoIndex"),number:1})},fullScreenPlugin(){const t=JSON.parse(JSON.stringify(this.plugins));t[sessionStorage.getItem("pluginInfoIndex")].style.left=0,t[sessionStorage.getItem("pluginInfoIndex")].style.top=0,t[sessionStorage.getItem("pluginInfoIndex")].style.width=this.views.width,t[sessionStorage.getItem("pluginInfoIndex")].style.height=this.views.height,this.$store.commit("UPDATE_VIEW_PLUGIN",{draggable:!0,value:t})},openMenu(t,e,i){const n=document.getElementById("canvasContextmenu"),l=event||window.event;let{clientX:s,clientY:a}=l;n.setAttribute("style",n.getAttribute("style")+`left: ${Math.round(s-2)}px; top: ${Math.round(a-8)}px;`),this.visible=!0,sessionStorage.setItem("pluginInfoIndex",i),sessionStorage.setItem("pluginInfo",JSON.stringify(e))},closeMenu(){this.visible=!1},clickComp(t,e){this.$store.commit("UPDATE_SETTING",{key:"disposition",value:"attribute"}),this.$store.commit("UPDATE_ACTIVE",{key:"plugin",value:t})},getRefLineParams(t){const{vLine:e,hLine:i}=t;let n=0;this.vLine=e.map(t=>(t["id"]=++n,t)),this.hLine=i.map(t=>(t["id"]=++n,t))},onResize(t,e){const{component:i,index:n}=JSON.parse(JSON.stringify(e)),l=i;Object.assign(l.style,t),this.$store.commit("UPDATE_PLUGIN",{viewIndex:this.entrance,pluginIndex:n,key:"style",value:l.style})},onDrag(t,e){const i=JSON.parse(JSON.stringify(e)),n=i.component;Object.assign(n.style,t),this.$store.commit("UPDATE_PLUGIN",{viewIndex:this.entrance,pluginIndex:e.index,key:"style",value:n.style})},active(){},handleLine(t){this.referLineStatus&&this.$store.commit("SET_LINES",t)},handleScroll(){const t=document.querySelector("#screens").getBoundingClientRect(),e=document.querySelector("#wrapperCanvas").getBoundingClientRect(),i=(t.left+this.thick-e.left)/this.scale,n=(t.top+this.thick-e.top)/this.scale;this.startX=i>>0,this.startY=n>>0},handleWheel(t){if(t.ctrlKey||t.metaKey){t.preventDefault();const e=parseFloat(Math.max(.2,this.scale-t.deltaY/500).toFixed(2));this.$store.commit("UPDATE_VISUAL",{index:this.entrance,number:1,key:"zoom",value:parseInt(100*e>=400?400:100*e)})}this.$nextTick(()=>{this.handleScroll()})},initSize(){const t=document.querySelector("#wrapper").getBoundingClientRect(),e=1;this.width=t.width-this.thick-e,this.height=t.height-this.thick-e},dragMousedown(t){this.keys.space&&(this.dragSlide=!0,window.stardragEvent=t,window.startSlideX=this.$refs.screensRef.scrollLeft,window.startSlideY=this.$refs.screensRef.scrollTop)},dragMouseup(){this.dragSlide=!1,this.keys.space=!1},dragMousemove(t){if(this.dragSlide){let e=t.clientX-window.stardragEvent.clientX,i=t.clientY-window.stardragEvent.clientY;this.$refs.screensRef.scrollLeft=window.startSlideX-e,this.$refs.screensRef.scrollTop=window.startSlideY-i}},listen(){document.onkeydown=t=>{this.keys.ctrl=17===t.keyCode,"TEXTAREA"!=t.target.nodeName&&"INPUT"!=t.target.nodeName&&32==t.keyCode&&(t.preventDefault(),this.keys.space=!0)},document.onkeyup=()=>{this.keys.ctrl=!1}},initScreens(){let t=document.getElementById("screen-container");t.style.width=this.screen.width+"px",t.style.height=this.screen.height+"px",this.reposition()}},mounted(){this.initScreens(),this.listen(),this.initSize()}},de=he,me=(i("ad3f"),i("001c"),Object(d["a"])(de,ce,ue,!1,null,"5fd89e71",null)),ge=me.exports,fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-control-container"},[e("ul",{staticClass:"control-list"},t._l(t.$t("setting.controlRulerList"),(function(i,n){return e("li",{key:"control_ruler_list"+n,staticClass:"control-item",class:{active:t.ruler.includes(i.type)}},[e("label",{on:{click:function(e){return t.changeRuler(i)}}},[e("div",[t._v(t._s(i.name))])])])})),0)])},ve=[],be={name:"h5veControl",computed:{...Object(Pt["b"])(["ruler"])},methods:{changeRuler(t){"ruler"!==t.type&&this.$store.commit("UPDATE_RULER",{value:t.type})}}},ye=be,we=(i("b27a"),Object(d["a"])(ye,fe,ve,!1,null,"6aa66200",null)),xe=we.exports,ke={name:"h5veMain",components:{h5veSheet:re,h5veCanvas:ge,h5veControl:xe}},_e=ke,$e=(i("636a"),Object(d["a"])(_e,ee,ie,!1,null,"784ea100",null)),Se=$e.exports,Ce=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-config-container"},[e("div",{staticClass:"config-section"},[e(t.disposition,{tag:"component"})],1),e("div",{staticClass:"config-control"},[e("ul",{staticClass:"control-list"},t._l(t.$t("setting.controlList"),(function(i,n){return e("li",{key:n,staticClass:"control-item pointer",class:{active:i.type===t.disposition},on:{click:function(e){return t.handoff(i)}}},[e("span",[t._v(t._s(i.name))])])})),0)])])},Te=[],Pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"attribute-container"},[e("div",{staticClass:"general-form"},[e(t.plugin.config,{tag:"component"}),e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.transparency")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:100,step:1,"step-strictly":"","controls-position":"right"},model:{value:t.opacity,callback:function(e){t.opacity=e},expression:"opacity"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.roundedCorners")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:1,"step-strictly":"","controls-position":"right"},model:{value:t.plugin.style.borderRadius,callback:function(e){t.$set(t.plugin.style,"borderRadius",e)},expression:"plugin.style.borderRadius"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.revolve")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{step:1,"step-strictly":"","controls-position":"right"},model:{value:t.plugin.style.rotateZ,callback:function(e){t.$set(t.plugin.style,"rotateZ",e)},expression:"plugin.style.rotateZ"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.position")}},[e("div",{staticClass:"flex-row"},[e("el-input-number",{staticStyle:{"margin-right":"16px"},attrs:{min:0,"controls-position":"right"},model:{value:t.plugin.style.left,callback:function(e){t.$set(t.plugin.style,"left",e)},expression:"plugin.style.left"}}),e("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:t.plugin.style.top,callback:function(e){t.$set(t.plugin.style,"top",e)},expression:"plugin.style.top"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.size")}},[e("div",{staticClass:"flex-row"},[e("el-input-number",{staticStyle:{"margin-right":"16px"},attrs:{min:0,"controls-position":"right"},model:{value:t.plugin.style.width,callback:function(e){t.$set(t.plugin.style,"width",e)},expression:"plugin.style.width"}}),e("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:t.plugin.style.height,callback:function(e){t.$set(t.plugin.style,"height",e)},expression:"plugin.style.height"}})],1)])],1)],1)])},Ae=[],Ie={name:"attribute",data(){return{opacity:100}},computed:{...Object(Pt["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}},watch:{opacity(t){this.plugin.style.opacity=t/100}},updated(){this.opacity=Math.round(100*this.plugin.style.opacity)}},je=Ie,Ne=(i("c2db"),i("f048"),Object(d["a"])(je,Pe,Ae,!1,null,"9fdbd328",null)),Me=Ne.exports,ze=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layer-container"},[e("ul",{staticClass:"layer-list"},[e("draggable",{attrs:{options:{name:"layerPlugin",draggable:".layer-item",animation:300}},model:{value:t.plugins,callback:function(e){t.plugins=e},expression:"plugins"}},t._l(t.plugins,(function(i,n){return e("li",{staticClass:"layer-item",class:{active:n===t.active.plugin},on:{click:function(e){return t.changeLayer(i,n)},contextmenu:function(e){return e.preventDefault(),t.openMenu(i,n)}}},[e("label",[e("div",{staticClass:"line-clamp1"},[t._v(t._s(i.name)+" "+t._s(i.type))])])])})),0)],1)])},Oe=[],De={name:"layer",computed:{...Object(Pt["b"])(["projectViews","entrance","active"]),plugins:{set(t){this.$store.commit("UPDATE_VIEW_PLUGIN",{draggable:!0,value:t})},get(){return this.projectViews[this.entrance].plugins}}},methods:{changeLayer(t,e){this.$store.commit("UPDATE_ACTIVE",{key:"plugin",value:e});const i=document.getElementById(t.plugin+"."+e),n=document.createEvent("MouseEvents");n.initEvent("touchstart",!1,!1),i.dispatchEvent(n),n.initEvent("mousedown",!1,!1),i.dispatchEvent(n),n.initEvent("touchend",!1,!1),i.dispatchEvent(n),n.initEvent("click",!1,!1),i.dispatchEvent(n)},openMenu(t,e){sessionStorage.setItem("pluginInfoIndex",e),sessionStorage.setItem("pluginInfo",JSON.stringify(t));const i=document.getElementById("canvasContextmenu"),n=event||window.event;let{clientX:l,clientY:s}=n;l>document.body.clientWidth-100&&(l=document.body.clientWidth-100),s>document.body.clientHeight-100&&(s=document.body.clientHeight-100),i.setAttribute("style",i.getAttribute("style")+`left: ${Math.round(l-2)}px; top: ${Math.round(s-8)}px; display: block;`)},closeMenu(){const t=document.getElementById("canvasContextmenu");t.style.display="none"}},mounted(){document.body.addEventListener("click",this.closeMenu)}},Ee=De,Le=(i("4a9f"),Object(d["a"])(Ee,ze,Oe,!1,null,"692f6c1d",null)),Ve=Le.exports,Re=function(){var t=this,e=t._self._c;return e("div",{staticClass:"screen-container"},[e("div",{staticClass:"general-form"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.name")}},[e("el-input",{attrs:{readonly:""},model:{value:t.views.name,callback:function(e){t.$set(t.views,"name",e)},expression:"views.name"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.size")}},[e("div",{staticClass:"flex-row"},[e("el-input-number",{staticStyle:{"margin-right":"16px"},attrs:{min:0,"controls-position":"right"},model:{value:t.views.width,callback:function(e){t.$set(t.views,"width",e)},expression:"views.width"}}),e("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:t.views.height,callback:function(e){t.$set(t.views,"height",e)},expression:"views.height"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.transparency")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:100,step:1,"step-strictly":"","controls-position":"right"},model:{value:t.views.style.opacity,callback:function(e){t.$set(t.views.style,"opacity",e)},expression:"views.style.opacity"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.duration")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,step:1,"step-strictly":"","controls-position":"right"},model:{value:t.views.duration,callback:function(e){t.$set(t.views,"duration",e)},expression:"views.duration"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.backgroundColor")}},[e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.views.style.backgroundColor,callback:function(e){t.$set(t.views.style,"backgroundColor",e)},expression:"views.style.backgroundColor"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.backgroundImage")}},[e("div",{staticClass:"choose-file"},[e("span",{staticClass:"resolution"},[t._v(t._s(t.file.resolution))]),e("img",{staticStyle:{width:"100%",height:"120px"},attrs:{src:t.url(t.views.attr.src)||t.empty}}),e("p",{staticClass:"title line-clamp1",on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.file.name||t.$t("plugin.chooseImage")))])])])],1)],1),e("material",{attrs:{visible:t.visible},on:{cancel:function(e){t.visible=!1},confirm:t.confirm}})],1)},We=[],Ue={name:"screen",inject:["url"],computed:{...Object(Pt["b"])(["projectViews","entrance"]),views(){return this.projectViews[this.entrance]}},data(){return{visible:!1,file:{},empty:i("b8e0")}},methods:{confirm(t){t&&(this.views.attr.src=t.url,this.views.attr.id=t.id),this.file=t,this.visible=!1}}},He=Ue,Fe=(i("c6c6"),i("5dda"),Object(d["a"])(He,Re,We,!1,null,"951f8aac",null)),Be=Fe.exports,Je={name:"h5veConfig",components:{attribute:Me,layer:Ve,screen:Be},computed:{...Object(Pt["b"])(["disposition","projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}},methods:{handoff(t){this.$store.commit("UPDATE_SETTING",{key:"disposition",value:t.type})}}},Ye=Je,qe=(i("0e72"),Object(d["a"])(Ye,Ce,Te,!1,null,"385076ba",null)),Xe=qe.exports,Ze=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h5ve-footer-container"},[e("span",{staticStyle:{color:"#4092ff","font-size":"13px"}},[t._v(t._s(t.$t("tips.canvas")))])])},Ge=[],Ke={name:"h5veFooter"},Qe=Ke,ti=(i("8eb7d"),Object(d["a"])(Qe,Ze,Ge,!1,null,"300d1192",null)),ei=ti.exports,ii={store:It,i18n:Tt,name:"design",components:{h5veHeader:qt,h5veAside:te,h5veMain:Se,h5veConfig:Xe,h5veFooter:ei,h5vePublish:Rt,previewDialog:Ft},filters:{},props:{once:{type:Boolean,default:!1},language:{type:String,default:lt.a.get("language")||"zh"},pageNumber:{type:Number,default:0},publish:{type:Boolean,default:!1},equipment:{type:Boolean,default:!1},project:{type:Object,default:null},config:{type:Object,default(){return{title:""}}}},provide(){return{pageNumber:this.pageNumber,publish:this.publish,config:this.config,url:this.url,urls:this.urls,equipment:this.equipment,once:this.once}},watch:{project:{immediate:!0,deep:!0,handler(){this.importProject()}},language:{immediate:!0,deep:!0,handler(t){this.$i18n.locale=t}}},methods:{closePreview(){this.publish=!1,this.$emit("close-preview")},importProject(){this.project&&(this.project.views.length>1&&(this.$store.commit("UPDATE_VISUAL",{key:"lines",value:{h:[0,200],v:[0,200]}}),this.$store.commit("UPDATE_VISUAL",{key:"zoom",value:100})),this.$store.commit("IMPORT_PROJECT",{value:this.project}))},emitChange(t){const e=this.$store.state.project;this.$emit(t,{type:t,value:JSON.stringify(e)})},url(t,e){if(t&&this.equipment&&this.publish){const i=t.split("/");if(!e){const t=i.length;"c"===i[t-1].charAt(0)&&(i[t-1]=i[t-1].slice(1))}const n="./"+this.pageNumber+"/"+i[i.length-1];return n}return t||i("b8e0")},urls(t,e){if(t&&this.equipment&&this.publish){const i=t.split("/");if(!e){const t=i.length;"c"===i[t-1].charAt(0)&&(i[t-1]=i[t-1].slice(1))}return"./"+i[i.length-1]}return t||i("b8e0")}},created(){this.$window.forbidZoom()}},ni=ii,li=(i("9391"),Object(d["a"])(ni,a,o,!1,null,"0d99cc74",null)),si=li.exports,ai={name:"App",components:{design:si},data(){return{publish:!1,project:null}}},oi=ai,ri=Object(d["a"])(oi,l,s,!1,null,null,null),ci=ri.exports;n["default"].config.productionTip=!1,new n["default"]({render:t=>t(ci)}).$mount("#app")},"56fd":function(t,e,i){},5727:function(t,e,i){},5897:function(t,e,i){},"5d95":function(t,e,i){},"5dda":function(t,e,i){"use strict";i("bfc6")},"5e60":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-plugin-container",style:t.style},[t.mp4Config?e("vab-player-mp4",{attrs:{config:t.mp4Config},on:{player:function(e){t.$vabPlayerMp4=e}}}):t._e(),t.mp4Config||t.hideVideo?t._e():e("img",{staticClass:"image-plugin-container",style:t.style,attrs:{src:t.url(t.attr.src)}})],1)},l=[],s=i("27dc"),a={name:"videoPlugin",inject:["url","urls","equipment","pageNumber"],components:{VabPlayerMp4:s["a"]},props:{attribute:{},preview:!1},data(){return{hideVideo:this.equipment,$vabPlayerMp4:null,mp4Config:null}},watch:{attr:{deep:!0,immediate:!0,handler(){this.initData()}}},methods:{initData(){this.mp4Config=null,this.$nextTick(()=>{this.attr.src&&(this.mp4Config={id:this.$utils.uuid(),url:this.url(this.attr.src,!0),volume:this.attr.mute?0:this.attr.volume/100,autoplay:this.attr.autoplay,fluid:!0,loop:this.attr.loop,screenShot:!1,controls:this.attr.controls?"controls":"",pip:!1})})}},beforeDestroy(){},computed:{style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},styleVo(){return this.attribute.style},attr(){return this.attribute.attr}}},o=a,r=(i("222c"),i("2f30"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,"7b015e14",null);e["default"]=c.exports},"5f66":function(t,e,i){"use strict";i("dc2c")},6200:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"audio-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.path")}},[e("el-input",{attrs:{type:"input",placeholder:t.$t("plugin.audioPlaceholder")},model:{value:t.plugin.attr.src,callback:function(e){t.$set(t.plugin.attr,"src",e)},expression:"plugin.attr.src"}},[e("template",{slot:"append"},[e("el-button",{on:{click:function(e){t.visible=!0}}},[t._v(t._s(t.$t("plugin.choose")))])],1)],2)],1),e("el-form-item",{attrs:{label:t.$t("plugin.config")}},[e("el-checkbox",{model:{value:t.plugin.attr.default,callback:function(e){t.$set(t.plugin.attr,"default",e)},expression:"plugin.attr.default"}},[t._v(t._s(t.$t("plugin.defaultAudio")))]),e("el-checkbox",{model:{value:t.plugin.attr.autoplay,callback:function(e){t.$set(t.plugin.attr,"autoplay",e)},expression:"plugin.attr.autoplay"}},[t._v(t._s(t.$t("plugin.autoplay")))]),e("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.plugin.attr.default,expression:"plugin.attr.default"}],model:{value:t.plugin.attr.controls,callback:function(e){t.$set(t.plugin.attr,"controls",e)},expression:"plugin.attr.controls"}},[t._v(t._s(t.$t("plugin.controls")))]),e("el-checkbox",{model:{value:t.plugin.attr.loop,callback:function(e){t.$set(t.plugin.attr,"loop",e)},expression:"plugin.attr.loop"}},[t._v(t._s(t.$t("plugin.loopPlay")))])],1),e("el-form-item",{attrs:{label:t.$t("plugin.color")}},[e("div",{staticClass:"flex-row"},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.plugin.attr.default,expression:"!plugin.attr.default"}]},[t._v(t._s(t.$t("plugin.icon"))+"：")]),e("el-color-picker",{directives:[{name:"show",rawName:"v-show",value:!t.plugin.attr.default,expression:"!plugin.attr.default"}],attrs:{"show-alpha":""},model:{value:t.plugin.style.color,callback:function(e){t.$set(t.plugin.style,"color",e)},expression:"plugin.style.color"}}),e("span",[t._v(t._s(t.$t("plugin.background"))+"：")]),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)])],1),e("material",{attrs:{"type-list":["audio"],visible:t.visible},on:{cancel:function(e){t.visible=!1},confirm:t.confirm}})],1)},l=[],s=i("2f62"),a={name:"audioConfig",data(){return{visible:!1}},computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}},methods:{confirm(t){t&&(this.plugin.attr.src=t.url,this.plugin.attr.id=t.id),this.visible=!1}}},o=a,r=i("2877"),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},"636a":function(t,e,i){"use strict";i("2458")},"64dc":function(t,e,i){},6511:function(t,e,i){"use strict";i("5d95")},6629:function(t,e,i){},"6a3f":function(t,e,i){},"6e13":function(t,e,i){},"7c44":function(t,e,i){"use strict";i.r(e);var n=i("e017"),l=i.n(n),s=i("21a1"),a=i.n(s),o=new l.a({id:"icon-icon-between",use:"icon-icon-between-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-between"><defs><style type="text/css"></style></defs><path d="M978.488889 119.466667H45.511111c-22.755556 5.688889-45.511111-17.066667-45.511111-39.822223S17.066667 34.133333 45.511111 34.133333h932.977778c22.755556 0 45.511111 22.755556 45.511111 45.511111s-22.755556 39.822222-45.511111 39.822223zM978.488889 409.6H45.511111c-22.755556 0-45.511111-17.066667-45.511111-39.822222s17.066667-45.511111 45.511111-45.511111h932.977778c22.755556 0 45.511111 17.066667 45.511111 45.511111s-22.755556 39.822222-45.511111 39.822222zM978.488889 694.044444H45.511111c-22.755556 0-45.511111-17.066667-45.511111-45.511111s17.066667-45.511111 45.511111-45.511111h932.977778c22.755556 0 45.511111 17.066667 45.511111 45.511111s-22.755556 45.511111-45.511111 45.511111zM978.488889 984.177778H45.511111c-22.755556 0-45.511111-17.066667-45.511111-45.511111s17.066667-45.511111 45.511111-45.511111h932.977778c22.755556 0 45.511111 17.066667 45.511111 45.511111s-22.755556 45.511111-45.511111 45.511111z" p-id="20288" /></symbol>'});a.a.add(o);e["default"]=o},"7c5c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.color")}},[e("div",{staticClass:"flex-row"},[t._v(" "+t._s(t.$t("plugin.backgroundColor"))+"： "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.list")}},[e("ul",{staticClass:"image-list"},[e("draggable",{attrs:{options:{name:"chooseFile",draggable:".swiper-item-info",animation:300}},model:{value:t.plugin.attr.list,callback:function(e){t.$set(t.plugin.attr,"list",e)},expression:"plugin.attr.list"}},t._l(t.plugin.attr.list,(function(i,n){return e("li",{staticClass:"swiper-item-info"},[e("div",{staticClass:"choose-file",staticStyle:{cursor:"auto"}},[e("span",{staticClass:"el-icon-sort"}),e("el-popover",{attrs:{placement:"top",trigger:"click"}},[e("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:i.duration,callback:function(e){t.$set(i,"duration",e)},expression:"item.duration"}}),e("span",{staticClass:"duration",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(i.duration)+" "+t._s(t.$t("plugin.second")))])],1),e("span",{staticClass:"resolution"},[t._v(t._s(i.resolution))]),"image"===i.type?e("img",{staticStyle:{width:"100%",height:"120px"},attrs:{src:t.url(i.src)||t.empty}}):e("video",{staticStyle:{height:"120px",width:"100%","object-fit":"fill","vertical-align":"bottom"},attrs:{disabled:!0,autoplay:!1,controls:!1,src:t.url(i.src)}},[t._v(" "+t._s(t.$t("plugin.video"))+" ")]),e("div",{staticClass:"bottom"},["image"!==i.type?e("span",{staticClass:"volume",class:i.mute?"el-icon-close-notification":"el-icon-bell",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.volume(n)}}}):t._e(),e("span",{staticClass:"name line-clamp1",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.choose.apply(null,arguments)}}},[t._v(t._s(i.name||t.$t("plugin.choose")))]),e("div",{staticClass:"button"},[e("span",{staticClass:"el-icon-plus",staticStyle:{"margin-right":"5px",cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.addHandleIndex(n)}}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.plugin.attr.list.length,expression:"plugin.attr.list.length"}],staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.deleteHandle(n)}}})])])],1)])})),0),e("el-button",{staticClass:"el-icon-plus",staticStyle:{width:"100%"},on:{click:t.addHandle}},[t._v(" "+t._s(t.$t("plugin.add"))+" ")])],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.swiper")}},[e("el-checkbox",{model:{value:t.plugin.attr.loop,callback:function(e){t.$set(t.plugin.attr,"loop",e)},expression:"plugin.attr.loop"}},[t._v(t._s(t.$t("plugin.loopPlay")))])],1)],1),e("material",{attrs:{mode:"multiple",ids:t.ids,"type-list":["image"],visible:t.visible},on:{cancel:function(e){t.visible=!1},confirm:t.confirm}})],1)},l=[],s=i("2f62"),a={name:"pictureConfig",inject:["url"],data(){return{empty:i("b8e0"),visible:!1}},computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]},ids(){return this.plugin.attr.list.map(t=>t.id)}},methods:{choose(){this.visible=!0},volume(t){const e=this.plugin.attr.list[t];e.mute=!e.mute;const i=JSON.parse(JSON.stringify(this.plugin.attr.list));this.$set(this.plugin.attr,"list",i)},confirm(t){const e=JSON.parse(JSON.stringify(t)),i=e.map(t=>(t.duration=Number(t.duration)||10,t.src=t.url,t));let n=JSON.parse(JSON.stringify(this.plugin.attr.list));this.$set(this.plugin.attr,"list",n.concat(i)),this.visible=!1},addHandle(){this.visible=!0},addHandleIndex(t){this.visible=!0},deleteHandle(t){this.plugin.attr.list.splice(t,1)}}},o=a,r=(i("c2a0"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},"81f3":function(t,e,i){"use strict";i.r(e);var n=i("e017"),l=i.n(n),s=i("21a1"),a=i.n(s),o=new l.a({id:"icon-icon-left",use:"icon-icon-left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-left"><defs><style type="text/css"></style></defs><path d="M0 921.6h819.2v102.4H0v-102.4z m0-307.2h1024v102.4H0v-102.4z m0-307.2h819.2v102.4H0V307.2z m0-307.2h1024v102.4H0V0z" p-id="11477" /></symbol>'});a.a.add(o);e["default"]=o},"82b2":function(t,e,i){"use strict";i("6e13")},"838a":function(t,e,i){"use strict";i("bee2")},8798:function(t,e,i){},"8eb7d":function(t,e,i){"use strict";i("2f6a")},"913e":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("img",{staticClass:"image-plugin-container",style:t.style,attrs:{src:t.url(t.attr.src)}})},l=[],s={name:"imagePlugin",inject:["url"],props:{attribute:{},preview:!1},computed:{style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr}}},a=s,o=i("2877"),r=Object(o["a"])(a,n,l,!1,null,"2d3a5527",null);e["default"]=r.exports},"913f":function(t,e,i){},9353:function(t,e,i){"use strict";i("1719")},9391:function(t,e,i){"use strict";i("3804")},"96d6":function(t,e,i){},"9b96":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"countdown-plugin-container",style:t.style},[t._v(" "+t._s(t.countTime)+" ")])},l=[],s=i("2f62"),a={name:"countdownPlugin",props:{attribute:{},preview:!1},data(){return{countTime:""}},watch:{"attribute.attr.date":{deep:!0,immediate:!0,handler(t){t>0?(clearInterval(this.timer),this.second=t,this.timer=setInterval(()=>{this.countTime=this.$utils.formatCount(this.second,this.attribute.attr.format),this.second<=0&&clearInterval(this.timer)},1e3)):clearInterval(this.timer)}}},computed:{...Object(s["b"])(["entrance"]),style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr}}},o=a,r=(i("aa77"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,"58664b66",null);e["default"]=c.exports},"9cb3":function(t,e,i){},"9f97":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"date-plugin-container",style:t.style},[t._v(" "+t._s(t.date)+" ")])},l=[],s={name:"datePlugin",props:{attribute:{},preview:!1},computed:{style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr},date(){return this.$utils.formatDate(this.attribute.attr.date,this.attribute.attr.format)}},created(){setInterval(()=>{this.attribute.attr.date=(new Date).getTime()},1e3)}},a=s,o=(i("25c4"),i("2877")),r=Object(o["a"])(a,n,l,!1,null,"47d7609e",null);e["default"]=r.exports},a157:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.textContent")}},[e("el-input",{staticStyle:{"font-size":"15px"},attrs:{rows:5,type:"textarea",placeholder:"请输入文本内容"},model:{value:t.plugin.attr.text,callback:function(e){t.$set(t.plugin.attr,"text",e)},expression:"plugin.attr.text"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.color")}},[e("div",{staticClass:"flex-row"},[t._v(" "+t._s(t.$t("plugin.font"))+"： "),e("el-color-picker",{staticStyle:{"margin-right":"16px"},attrs:{"show-alpha":""},model:{value:t.plugin.style.color,callback:function(e){t.$set(t.plugin.style,"color",e)},expression:"plugin.style.color"}}),t._v(" "+t._s(t.$t("plugin.background"))+"： "),e("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.plugin.style.backgroundColor,callback:function(e){t.$set(t.plugin.style,"backgroundColor",e)},expression:"plugin.style.backgroundColor"}})],1)]),e("el-form-item",{attrs:{label:t.$t("plugin.fontSize")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0,placeholder:"请输入字体大小"},model:{value:t.plugin.style.fontSize,callback:function(e){t.$set(t.plugin.style,"fontSize",t._n(e))},expression:"plugin.style.fontSize"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.howManyLines")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{"step-strictly":"","controls-position":"right",min:0,step:1,placeholder:t.$t("plugin.howManyLines")},model:{value:t.plugin.style.lineClamp,callback:function(e){t.$set(t.plugin.style,"lineClamp",t._n(e))},expression:"plugin.style.lineClamp"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.font")}},[e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"italic"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.italic")))]),e("el-radio",{attrs:{label:"oblique"},model:{value:t.plugin.style.fontStyle,callback:function(e){t.$set(t.plugin.style,"fontStyle",e)},expression:"plugin.style.fontStyle"}},[t._v(t._s(t.$t("plugin.oblique")))])],1),e("el-form-item",{attrs:{label:"字重"}},[e("el-radio",{attrs:{label:"lighter"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.lighter")))]),e("el-radio",{attrs:{label:"normal"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.normal")))]),e("el-radio",{attrs:{label:"bold"},model:{value:t.plugin.style.fontWeight,callback:function(e){t.$set(t.plugin.style,"fontWeight",e)},expression:"plugin.style.fontWeight"}},[t._v(t._s(t.$t("plugin.bold")))])],1),e("el-form-item",{attrs:{label:"是否显示滚动条"}},[e("el-radio",{attrs:{label:"auto"},model:{value:t.plugin.style.overflow,callback:function(e){t.$set(t.plugin.style,"overflow",e)},expression:"plugin.style.overflow"}},[t._v(t._s(t.$t("plugin.yes")))]),e("el-radio",{attrs:{label:"hidden"},model:{value:t.plugin.style.overflow,callback:function(e){t.$set(t.plugin.style,"overflow",e)},expression:"plugin.style.overflow"}},[t._v(t._s(t.$t("plugin.no")))])],1),e("el-form-item",{staticClass:"layout-config",attrs:{label:t.$t("plugin.layout")}},[e("el-radio",{attrs:{label:"left"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"left"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-left"}}),t._v(" "+t._s(t.$t("plugin.left"))+" ")],1),e("el-radio",{attrs:{label:"center"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"center"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-center"}}),t._v(" "+t._s(t.$t("plugin.center")))],1),e("el-radio",{attrs:{label:"right"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"right"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-right"}}),t._v(" "+t._s(t.$t("plugin.right")))],1),e("el-radio",{attrs:{label:"justify"},model:{value:t.plugin.style.textAlign,callback:function(e){t.$set(t.plugin.style,"textAlign",e)},expression:"plugin.style.textAlign"}},[e("svg-icon",{style:{color:"justify"===t.plugin.style.textAlign?"#409eff":"#606266"},attrs:{"icon-class":"icon-between"}}),t._v(" "+t._s(t.$t("plugin.justify")))],1)],1),e("el-form-item",{attrs:{label:"动画"}},[e("el-radio",{attrs:{label:""},model:{value:t.plugin.attr.animation.animationName,callback:function(e){t.$set(t.plugin.attr.animation,"animationName",e)},expression:"plugin.attr.animation.animationName"}},[t._v(t._s(t.$t("plugin.static")))]),e("el-radio",{attrs:{label:"toLeft"},model:{value:t.plugin.attr.animation.animationName,callback:function(e){t.$set(t.plugin.attr.animation,"animationName",e)},expression:"plugin.attr.animation.animationName"}},[t._v(t._s(t.$t("plugin.toLeft")))]),e("el-radio",{attrs:{label:"toRight"},model:{value:t.plugin.attr.animation.animationName,callback:function(e){t.$set(t.plugin.attr.animation,"animationName",e)},expression:"plugin.attr.animation.animationName"}},[t._v(t._s(t.$t("plugin.toRight")))]),e("el-radio",{attrs:{label:"toTop"},model:{value:t.plugin.attr.animation.animationName,callback:function(e){t.$set(t.plugin.attr.animation,"animationName",e)},expression:"plugin.attr.animation.animationName"}},[t._v(t._s(t.$t("plugin.toTop")))]),e("el-radio",{attrs:{label:"toBottom"},model:{value:t.plugin.attr.animation.animationName,callback:function(e){t.$set(t.plugin.attr.animation,"animationName",e)},expression:"plugin.attr.animation.animationName"}},[t._v(t._s(t.$t("plugin.toBottom")))])],1),e("el-form-item",{attrs:{label:t.$t("plugin.cycle")}},[e("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:0,placeholder:"请输入动画周期"},model:{value:t.plugin.attr.animation.animationDuration,callback:function(e){t.$set(t.plugin.attr.animation,"animationDuration",t._n(e))},expression:"plugin.attr.animation.animationDuration"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.readAloud")}},[e("el-radio",{attrs:{label:!0},model:{value:t.plugin.attr.readAloud,callback:function(e){t.$set(t.plugin.attr,"readAloud",e)},expression:"plugin.attr.readAloud"}},[t._v(t._s(t.$t("plugin.yes")))]),e("el-radio",{attrs:{label:!1},model:{value:t.plugin.attr.readAloud,callback:function(e){t.$set(t.plugin.attr,"readAloud",e)},expression:"plugin.attr.readAloud"}},[t._v(t._s(t.$t("plugin.no")))])],1)],1)],1)},l=[],s=i("2f62"),a={name:"textConfig",computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}}},o=a,r=(i("c3d2"),i("2877")),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},a37c:function(t,e,i){},a3be:function(t,e,i){"use strict";i.r(e),i.d(e,"getMaterialList",(function(){return l})),i.d(e,"groupTree",(function(){return s}));var n=i("b775");function l(t){return Object(n["a"])({url:"/api/material/list",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/api/group/groupTree",method:"get",params:t})}},a58d:function(t,e,i){"use strict";i("265b")},a798:function(t,e,i){},aa77:function(t,e,i){"use strict";i("6a3f")},ab8a:function(t,e,i){"use strict";i.r(e);var n=i("e017"),l=i.n(n),s=i("21a1"),a=i.n(s),o=new l.a({id:"icon-icon-right",use:"icon-icon-right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-right"><defs><style type="text/css"></style></defs><path d="M1024 921.6H204.8v102.4h819.2v-102.4z m0-307.2H0v102.4h1024v-102.4z m0-307.2H204.8v102.4h819.2V307.2z m0-307.2H0v102.4h1024V0z" p-id="13262" /></symbol>'});a.a.add(o);e["default"]=o},ad3f:function(t,e,i){"use strict";i("d95c")},af8d:function(t,e,i){},b27a:function(t,e,i){"use strict";i("11b2")},b5e7:function(t,e,i){"use strict";i("64dc")},b6c1:function(t,e,i){"use strict";i.r(e);var n=i("e017"),l=i.n(n),s=i("21a1"),a=i.n(s),o=new l.a({id:"icon-icon-center",use:"icon-icon-center-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-icon-center"><defs><style type="text/css"></style></defs><path d="M0.256 0h1024v102.4h-1024zM205.056 307.2h614.4v102.4h-614.4zM0.256 614.4h1024v102.4h-1024zM205.568 921.6h614.4v102.4h-614.4z" p-id="16229" /></symbol>'});a.a.add(o);e["default"]=o},b775:function(t,e,i){"use strict";i("d9e2");var n=i("bc3a"),l=i.n(n),s=i("a78e"),a=i.n(s);l.a.defaults.headers["Content-Type"]="application/json;charset=utf-8",l.a.defaults.validateStatus=function(t){return t>=200&&t<=500};const o=l.a.create({timeout:3e4});o.interceptors.request.use(t=>{let e=a.a.get("mips_access_token");return t.headers["Authorization"]="Bearer "+e,t.baseURL=sessionStorage.getItem("baseUrl"),t}),o.interceptors.response.use(t=>t.data,t=>Promise.reject(new Error(t))),e["a"]=o},b8e0:function(t,e,i){t.exports=i.p+"static/img/empty-img.2f88a9fb.png"},b94e:function(t,e,i){"use strict";i("213c")},be95:function(t,e,i){"use strict";i("913f")},bee2:function(t,e,i){},bfc6:function(t,e,i){},c2a0:function(t,e,i){"use strict";i("5897")},c2db:function(t,e,i){"use strict";i("af8d")},c3d2:function(t,e,i){"use strict";i("5727")},c3f9:function(t,e,i){"use strict";i("cc65")},c6c6:function(t,e,i){"use strict";i("cc08")},ca71:function(t,e,i){"use strict";i("1536")},cb52:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"iframe-config-container"},[e("el-form",{attrs:{size:"mini","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("plugin.path")}},[e("el-input",{attrs:{type:"input",placeholder:t.$t("plugin.pathPlaceholder")},model:{value:t.plugin.attr.src,callback:function(e){t.$set(t.plugin.attr,"src",e)},expression:"plugin.attr.src"}})],1),e("el-form-item",{attrs:{label:t.$t("plugin.mask")}},[e("el-radio",{attrs:{label:"none"},model:{value:t.plugin.style.pointerEvents,callback:function(e){t.$set(t.plugin.style,"pointerEvents",e)},expression:"plugin.style.pointerEvents"}},[t._v(t._s(t.$t("plugin.yes")))]),e("el-radio",{attrs:{label:""},model:{value:t.plugin.style.pointerEvents,callback:function(e){t.$set(t.plugin.style,"pointerEvents",e)},expression:"plugin.style.pointerEvents"}},[t._v(" "+t._s(t.$t("plugin.no")))])],1)],1)],1)},l=[],s=i("2f62"),a={name:"iframeConfig",computed:{...Object(s["b"])(["projectViews","entrance","active"]),canvas(){return this.projectViews[this.entrance].plugins},plugin(){return this.canvas[this.active.plugin]}}},o=a,r=i("2877"),c=Object(r["a"])(o,n,l,!1,null,null,null);e["default"]=c.exports},cbd7:function(t,e,i){},cc08:function(t,e,i){},cc65:function(t,e,i){},d3ff:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-plugin-container",style:t.style},["media"===t.currentVo.type?e("vab-player-mp4",{attrs:{config:t.videoConfig(t.currentVo)},on:{player:function(e){t.$vabPlayerMp4=e}}}):e("img",{attrs:{src:t.url(t.currentVo.src),alt:"图片"}})],1)},l=[],s=(i("13d5"),i("27dc")),a=i("2f62"),o={name:"picturePlugin",inject:["url"],components:{VabPlayerMp4:s["a"]},props:{attribute:{},preview:!1},computed:{...Object(a["b"])(["duration"]),style(){const t=this.attribute.style;return this.preview?t.position="absolute":delete t.position,this.$utils.formatStyle(this.attribute.style)},attr(){return this.attribute.attr}},data(){return{setTimeout:[],$vabPlayerMp4:null,swiperList:[],list:[],currentVo:{}}},watch:{attr:{deep:!0,immediate:!0,handler(){this.initData()}}},methods:{initData(){if(this.timer&&clearInterval(this.timer),this.swiperList=JSON.parse(JSON.stringify(this.attr.list)),this.swiperList.length){this.durationList=this.swiperList.map(t=>Number(t.duration));const t=this.durationList.reduce((t,e)=>t+e,0),e=this.duration;t>e&&this.$store.commit("UPDATE_DURATION",{duration:t}),this.durationSwiper(),this.attr.loop&&(this.timer=setInterval(this.durationSwiper,1e3*t))}},durationSwiper(){const t=JSON.parse(JSON.stringify(this.swiperList));if(t.length){this.setTimeout.forEach(t=>{t&&clearTimeout(t)}),this.setTimeout=[],this.currentVo=t[0];let e=0;t.forEach((t,i,n)=>{e+=Number(t.duration),n.length-1!==i&&(this.setTimeout[i]=setTimeout(()=>{this.currentVo=n[i+1]},1e3*e))})}},videoConfig(t){return{id:this.$utils.uuid(),url:this.url(t.src,!0),volume:t.mute?0:1,autoplay:!0,fluid:!0,loop:"loop",screenShot:!1,pip:!1,controls:""}}}},r=o,c=(i("a58d"),i("01a6"),i("2877")),u=Object(c["a"])(r,n,l,!1,null,"1e2041f3",null);e["default"]=u.exports},d7ba:function(t,e,i){},d95c:function(t,e,i){},dc2c:function(t,e,i){},dfc5:function(t,e,i){"use strict";i("6629")},e4cb:function(t,e,i){},e6ea:function(t,e,i){"use strict";i("a37c")},ec28:function(t,e,i){"use strict";i("cbd7")},ed5b:function(t,e,i){},f048:function(t,e,i){"use strict";i("2f8f")},f121:function(t,e,i){const n=i("a3be");t.exports={token:sessionStorage.getItem("token"),request:n}},f420:function(t,e,i){"use strict";i("ed5b")},f64e:function(t,e,i){}});